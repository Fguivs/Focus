<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã‰picos äº— ğŸŒ±</title>
<link rel="icon" type="image/png" href="https://i.ibb.co/Ps4yK7xy/Picsart-25-02-25-14-28-21-078.jpg">
<link rel="stylesheet" href="estilos.css">
<link rel="manifest" href="manifest.json">
<style id="dynamic-cursor-style"></style>

</head>
<body>

<!-- Container de autenticaÃ§Ã£o -->
<div id="auth-container">
  <div class="auth-form">
    <h2>Grupo Ã‰picos äº— ğŸŒ±</h2>
    <div id="login-form">
      <input type="text" id="login-username" class="auth-input" placeholder="Seu nome" autocomplete="username">
      <div class="password-wrapper">
  <input type="password" id="login-password" class="auth-input" placeholder="Senha" autocomplete="current-password">
  <button type="button" id="toggle-password-btn" class="toggle-password" style="display: none;">Ver</button>
</div>
      <div id="login-message" class="auth-message"></div>
      <button id="login-btn" class="auth-btn">Entrar</button>
      <div class="auth-links">
        <span id="forgot-password-link" class="auth-link">Esqueceu a senha?</span>
      </div>
    </div>
    
	<div id="forgot-password-form" class="hidden">
  <h3>RecuperaÃ§Ã£o de Senha</h3>
  <p style="margin-bottom: 20px; font-size: 0.9rem; color: #7f8c8d;">
    Para comeÃ§ar, informe seu nome e responda Ã  sua pergunta secreta.
  </p>
  <input type="text" id="forgot-username" class="auth-input" placeholder="Seu nome" autocomplete="username">
  <label for="secret-answer" style="display: block; text-align: left; margin-bottom: 10px; font-weight: 500;">
    Qual Ã© o nome do primeiro pet que vocÃª jÃ¡ teve (ou tem)?
  </label>
  <input type="text" id="secret-answer" class="auth-input" placeholder="Resposta secreta">
  <div id="forgot-message" class="auth-message"></div>
  <button id="verify-answer-btn" class="auth-btn">Verificar Resposta</button>
  <button id="cancel-forgot-password" class="auth-link" style="margin-top: 15px;">Voltar para o Login</button>
</div>
	
    <div id="change-password-form" class="hidden">
      <input type="password" id="new-password" class="auth-input" placeholder="Nova senha">
      <input type="password" id="confirm-new-password" class="auth-input" placeholder="Confirme a nova senha">
      <div class="password-strength">
        <div id="password-strength-bar" class="password-strength-bar"></div>
      </div>
      <div id="password-message" class="auth-message"></div>
      <button id="change-password-btn" class="auth-btn secondary">Salvar nova senha</button>
     <button class="btn-cancelar" onclick="showLoginForm()">Cancelar</button>
    </div>
	
	<div id="secret-question-form" class="hidden">
  <h3>RecuperaÃ§Ã£o de Senha</h3>
  <p style="margin-bottom: 20px; font-size: 0.9rem; color: #7f8c8d;">
    Para proteger sua conta, vamos criar um mÃ©todo de recuperaÃ§Ã£o.
  </p>
  <label for="setup-secret-answer" style="display: block; text-align: left; margin-bottom: 10px; font-weight: 500;">
    Qual Ã© o nome do primeiro pet que vocÃª jÃ¡ teve (ou tem)?
  </label>
  <input type="text" id="setup-secret-answer" class="auth-input" placeholder="Digite a resposta aqui">
  <button id="save-secret-answer-btn" class="auth-btn">Salvar e Continuar</button>
</div>
	
  </div>
</div>

<div id="main-content" class="hidden">

  <div class="container">
    <header>
      <h1>Ã‰picos äº— ğŸŒ±</h1>
      <div id="dataHoje"></div>
	  <div id="relogio"></div>
      <div id="info-semana"></div>
	  
	  <div class="botoes-info-container">
        <button id="btn-instrucoes" class="botao-info">ğŸ“œ InstruÃ§Ãµes</button>
        <button id="btn-advertencias" class="botao-info">âš ï¸ AdvertÃªncias</button>
      </div>
      </header>
	  
	 <div id="painel-pessoal-container">
  
  <div class="perfil-header">
    <span class="perfil-icone">ğŸ‘¤</span>
    <h2 id="saudacao-pessoal">OlÃ¡, <span id="nome-usuario-saudacao">Membro</span>!</h2>
  </div>
  
  <button id="notificacoes-btn" class="botao-info">
  ğŸ“® NotificaÃ§Ãµes
  <span id="notificacoes-contador" class="hidden">0</span>
</button>

  <div id="indicador-equipe-pessoal" class="info-box hidden">
    Equipe Desconhecida
  </div>

  <div class="info-box">
    <div id="indicador-moedas-pessoal" class="info-box-valor">
      ğŸ’° <span>0</span>
    </div>
    <div class="info-box-label">Moedas</div>
  </div>
  
  <button id="botao-painel-usuario" class="botao-info hidden">
    âš™ï¸ Painel do UsuÃ¡rio
  </button>

</div>

    <div class="vantagem-container">
  <h2>ğŸ CÃ³digo Secreto</h2>
  <p class="vantagem-descricao">
    Se vocÃª recebeu um cÃ³digo de recompensa do lÃ­der, insira-o abaixo para resgatar suas moedas!
  </p>
  <div id="redeem-code-section" style="max-width: 400px; margin: 0 auto;">
    <input type="text" id="secret-code-input" class="painel-input" placeholder="Digite o cÃ³digo aqui" maxlength="6">
    <button id="redeem-code-btn" class="painel-btn btn-adicionar" style="margin-top: 10px; width: 100%;">Resgatar Moedas</button>
  </div>
</div>

    <div id="secao-instrucoes" class="secao-fullscreen hidden">
      <button class="botao-fechar-secao">X</button>
      <div class="secao-conteudo">
        </div>
    </div>

    <div id="secao-advertencias" class="secao-fullscreen hidden">
      <button class="botao-fechar-secao">X</button>
      <div class="secao-conteudo">
        </div>
    </div

    </header>
    
	<div class="aniversariantes-container">
  <h2 style="text-align: center;">ğŸ‚ Aniversariantes do MÃªs</h2>
  <div style="text-align: center; margin-bottom: 20px;">
    <button id="btn-ver-lista-aniversarios" class="botao-info">ğŸ“‹ Ver Lista de AniversÃ¡rios</button>
</div>
  <div id="aniversariantes-hoje" class="aniversariantes-hoje">
    <!-- ConteÃºdo gerado dinamicamente -->
  </div>
  <div id="proximos-aniversarios" class="proximos-aniversarios">
    <!-- ConteÃºdo gerado dinamicamente -->
  </div>
</div>
	
    <div class="stats-container">
      <div class="global-stats">
        <div id="contadorGeral">0 Ã©picos focaram hoje!</div>
        <div class="progresso-container">
          <div id="progresso-barra"></div>
		  <div id="marcador-arvore" class="marcador-arvore" style="display: none;" title="Meta para a Ãrvore Ã‰pica">
    <div class="linha-vertical"></div>
    <div class="emoji-arvore">ğŸŒ³</div>
</div>
  </div>
  <div id="mensagem-todos-focados" class="hidden" style="margin-top: 15px; font-weight: bold; color: #9b59b6; font-size: 1.1rem;"></div>
</div>
      </div>
    
    <div class="competicao-container">
      <h2>ğŸ† CompetiÃ§Ã£o de Equipes</h2>
      <div class="equipes-competicao">
        <div class="equipe-competicao" id="podio-abelha">
          <h3>ğŸ Abelha</h3>
          <div class="score" id="ranking-abelha">0</div>
          <div>VitÃ³rias</div>
        </div>
        <div class="equipe-competicao" id="podio-joaninha">
          <h3>ğŸ Joaninha</h3>
          <div class="score" id="ranking-joaninha">0</div>
          <div>VitÃ³rias</div>
        </div>
        <div class="equipe-competicao" id="podio-vagalume">
          <h3>ğŸ’¡ Vaga-lume</h3>
          <div class="score" id="ranking-vagalume">0</div>
          <div>VitÃ³rias</div>
        </div>
      </div>
      <p style="margin-top: 15px; font-size: 0.9em; color: #7f8c8d;">
	  <strong>Foque no mÃ­nimo 40 minutos, e cuide da fazenda do grupo 2 vezes para marcar seu ponto!</strong><br>
        CompetiÃ§Ã£o semanal: Segunda a SÃ¡bado.<br>
        A equipe com mais pontos ao final da competiÃ§Ã£o ganha +1 ponto no ranking de equipes.<br>
        Em caso de empate, todas as equipes empatadas ganham +1 ponto.<br>
      </p>
    </div>
	
		<div class="container-top5">
  <div class="ranking-top-container">
    <h2>ğŸŒŸ Top 5 Ã‰picos da Semana</h2>
	 <p class="ranking-desempate">O critÃ©rio de desempate do TOP 5 utiliza a velocidade. Ou seja, os membros que focam primeiro, ficam em primeiro!</p>
    <div id="ranking-top-lista" class="ranking-lista">
      <!-- Ranking serÃ¡ gerado dinamicamente aqui -->
    </div>
    <div class="ranking-mensagem">ParabÃ©ns aos mais focados entre todos os Ã‰picos!</div>
  </div>
</div>
	
	<div class="vantagem-container">
  <h2>ğŸ® Jogo da Vantagem</h2>
  <p class="vantagem-descricao">
  <div id="leader-advantage-controls" class="hidden" style="margin-bottom: 20px;">
    <button id="leader-test-button" class="painel-btn btn-adicionar">Testar Jogos</button>
    <div id="leader-test-panel" class="hidden">
        <h4>Selecione um jogo para testar:</h4>
        <ul id="leader-game-list">
            </ul>
    </div>
</div>
    DisponÃ­vel de Segunda a Sexta. Conclua o desafio dessa semana atÃ© Ã s 23:59 de sexta para garantir <strong>+3 pontos</strong> para sua equipe no SÃ¡bado!
  </p>
  
  <div style="text-align: center; margin-bottom: 20px;">
    <button id="ver-placar-btn" class="auth-btn" style="background-color: #3498db;" onclick="abrirPlacarVantagem()">Ver Placar</button>
  </div>
  
  <p class="vantagem-jogo-atual" id="vantagem-jogo-nome"></p>

  <div class="vantagem-game-wrapper">
    <div id="advantage-game-board"></div>

    <div id="vantagem-locked-overlay" class="hidden">
      <div class="lock-icon">âœ…</div>
      <p id="vantagem-lock-message">Desafio concluÃ­do esta semana! Volte na segunda-feira para o prÃ³ximo.</p>
    </div>
  </div>
</div>
	
		  <div id="resumo-semana-container" class="mural-container">
      <h2>ğŸ“° Resumo da Semana</h2>
      <p class="mural-descricao">
        Acompanhe em tempo real as principais conquistas e eventos da semana! Este feed Ã© zerado toda segunda-feira.
      </p>
      <div class="mural-scroll-wrapper"> 
        <div id="feed-semanal-cards">
          <div class="carregando">Carregando feed da semana...</div>
        </div>
      </div>
    </div>
	
    <div class="grupos-container" id="grupos-container">
      <!-- ConteÃºdo serÃ¡ gerado dinamicamente pelo JavaScript -->
    </div>
	
	<div id="condominio-container" class="arvore-epica-container">
  <h2>ğŸ¡ CondomÃ­nio Ã‰picos</h2>
  <div id="condominio-info-header">
      <strong id="nome-membro-condominio"></strong>
      <div id="saldo-moedas-container">
          <span class="moeda-emoji">ğŸ’°</span>
          <span id="saldo-moedas">0</span>
      </div>
  </div>
  <p class="arvore-explicacao">Veja abaixo sua casa no condomÃ­nio Ã©picos.</p>

  <div style="text-align: center; margin-bottom: 25px;">
    <button class="botao-info" onclick="openModal('info-moedas-modal')">
      â„¹ï¸ Como ganhar moedas?
    </button>
  </div>

  <div class="tree-display">
    <div class="tree-sky day-mode">
      <div class="stars-container"></div>
    </div>
    <div id="sol-condominio" class="sky-object"><img src="https://i.ibb.co/TD9sxMNF/Sol.png" alt="Sol"></div>
    <div id="lua-condominio" class="sky-object"><img src="https://i.ibb.co/93f7Ptjr/Lua.png" alt="Lua"></div>
    <img class="nuvem nuvem-1" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
    <img class="nuvem nuvem-2" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
    <img class="nuvem nuvem-3" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
    
    <div class="ground"></div>

    <div id="lote-pessoal-container">
        </div>
  </div>

  <div class="botoes-info-container" style="margin-top: 25px;">
  <button id="btn-abrir-loja" class="botao-info">ğŸª Abrir Loja</button>
  <button id="btn-abrir-inventario" class="botao-info">ğŸ’ Meu InventÃ¡rio</button>
  <button id="btn-ver-condominio" class="botao-info">ğŸ˜ï¸ Ver CondomÃ­nio</button>
  <button id="btn-ranking-imobiliario" class="botao-info">ğŸ† Ranking ImobiliÃ¡rio</button>
</div>
</div>
    
	<!-- Quadro de Folgas -->
<div class="folgas-container">
  
  <h2>ğŸ“… Quadro de Folgas</h2>
  <p class="folga-explicacao">No dia da sua folga, sua caixa de seleÃ§Ã£o serÃ¡ marcada automaticamente, sem que vocÃª precise focar ou cuidar da fazenda.</p>
<button id="change-folga-btn" class="rectangular-button" title="Alterar minha folga">Trocar Folga</button>
  
  <div class="dias-container">
    <div class="dia-col">
      <h3>Segunda</h3>
      <div class="lista-membros" id="segunda"></div>
    </div>
    <div class="dia-col">
      <h3>TerÃ§a</h3>
      <div class="lista-membros" id="terca"></div>
    </div>
    <div class="dia-col">
      <h3>Quarta</h3>
      <div class="lista-membros" id="quarta"></div>
    </div>
    <div class="dia-col">
      <h3>Quinta</h3>
      <div class="lista-membros" id="quinta"></div>
    </div>
    <div class="dia-col">
      <h3>Sexta</h3>
      <div class="lista-membros" id="sexta"></div>
    </div>
    <div class="dia-col">
      <h3>SÃ¡bado</h3>
      <div class="lista-membros" id="sabado"></div>
    </div>
    <div class="dia-col">
      <h3>Domingo</h3>
      <div class="lista-membros" id="domingo"></div>
    </div>
  </div>
</div>
    
    <!-- SEÃ‡ÃƒO ATUALIZADA: Ãrvore Ã‰pica com espaÃ§o idÃªntico ao cÃ³digo de referÃªncia -->
    <div id="secao-arvore-epica" class="arvore-epica-container">
      <h2>ğŸŒ³ Ãrvore Ã‰pica</h2>

      <p class="arvore-explicacao">
        A Ã¡rvore cresce com o esforÃ§o coletivo! Se <strong>10 ou mais Ã©picos</strong> focarem no mesmo dia, a Ã¡rvore avanÃ§a um dia em sua jornada de crescimento. Caso contrÃ¡rio, a sequÃªncia Ã© quebrada. Vamos cultivar nosso foco juntos!
      </p>
      
      <div class="tree-display">
        <div class="tree-sky day-mode">
          <div class="stars-container"></div>
        </div>
        <div id="sol" class="sky-object"><img src="https://i.ibb.co/TD9sxMNF/Sol.png" alt="Sol"></div>
        <div id="lua" class="sky-object"><img src="https://i.ibb.co/93f7Ptjr/Lua.png" alt="Lua"></div>
        <img class="nuvem nuvem-1" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-2" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-3" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-4" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-5" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-6" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <div class="ground"></div>
        <img id="seed" class="tree-image" src="https://i.ibb.co/7xsw9ZVd/semente.png" alt="Semente">
        <img id="sprout" class="tree-image" src="https://i.ibb.co/WNcWgWgn/broto.png" alt="Broto" style="display: none;">
        <img id="tree" class="tree-image" src="https://i.ibb.co/0jS2220Z/arvore.png" alt="Ãrvore" style="display: none;">
        <img id="flowers" class="tree-image" src="https://i.ibb.co/FrMst3S/flores.png" alt="Flores" style="display: none;">
        <img id="fruits" class="tree-image" src="https://i.ibb.co/9k6HjBFk/frutos.png" alt="Frutos" style="display: none;">
      </div>
      
      <div class="tree-info">
        <div class="stage-info" id="stage-name">Semente</div>
        <div class="stage-desc" id="stage-desc">A jornada comeÃ§a com um Ãºnico dia de foco. Vamos plantar nossa semente e cultivar nossa dedicaÃ§Ã£o diÃ¡ria!</div>
        
        <div class="arvore-status-diario">
          <div id="status-focado" class="status-badge">âœ… 0 Ã©picos focaram hoje</div>
          <div id="status-nao-focado" class="status-badge">âŒ 0 Ã©picos ainda nÃ£o focaram</div>
        </div>

        <div class="progresso-consecutivo">
          <strong>Dias consecutivos: <span id="dias-consecutivos">0</span></strong><br>
          <span id="proxima-fase"></span>
        </div>
      </div>
    </div>
	
	<!-- SeÃ§Ã£o do Mural de Mensagens -->
    <div class="mural-container">
  <h2>âœï¸ Mural de Mensagens</h2>
  <div class="mural-actions">
    <button id="open-composer-btn">Escrever Mensagem</button>
  </div>
  <div class="mural-scroll-wrapper"> 
    <div id="mural-mensagens">
    </div>
  </div>
  </div>
    
   <div class="nossas-informacoes">
  <h2>ğŸ’– Nossas InformaÃ§Ãµes</h2>
  
  <div class="carrossel-wrapper">
    <div class="carrossel-controles">
  <button class="controle-btn" onclick="mudarSlide(-1)">â®</button>
  <button class="controle-btn" id="botao-pausa" onclick="togglePausa()">â¸</button>
  <button class="controle-btn" onclick="mudarSlide(1)">â¯</button>
</div>
    
    <div class="carrossel">
      <div class="carrossel-container" id="carrossel-container">
        <!-- Cards serÃ£o inseridos aqui pelo JavaScript -->
      </div>
    </div>
  </div>
  
<div class="progresso-indicador" style="margin-top: 15px;">
  <div class="progresso-indicador-barra" id="progresso-indicador-barra"></div>
</div>
  
  <div class="carrossel-indicadores" id="carrossel-indicadores">
    <!-- Indicadores serÃ£o gerados aqui -->
  </div>
</div>

<div id="secao-desenho" class="vantagem-container">
  <h2>ğŸ¨ Solte sua ImaginaÃ§Ã£o</h2>
  <p class="vantagem-descricao">
    Um espaÃ§o livre para cada equipe desenhar e se expressar. Membros sÃ³ podem editar a tela da sua prÃ³pria equipe. O LÃ­der Geral pode editar todas.
  </p>

  <div class="carrossel-wrapper">
    <div class="carrossel-controles">
      <button class="controle-btn" onclick="mudarSlideDesenho(-1)">â®</button>
      <button class="controle-btn" id="botao-pausa-desenho" onclick="togglePausaDesenho()">â¸</button>
      <button class="controle-btn" onclick="mudarSlideDesenho(1)">â¯</button>
    </div>

    <div class="carrossel-container" id="carrossel-container-desenho">
      
      <div class="card-desenho" id="card-desenho-abelha">
        <h3 class="titulo-tela-desenho abelha">ğŸ Tela da Equipe Abelha</h3>
        <div id="preview-container-abelha" class="preview-container">
          <canvas id="preview-canvas-abelha"></canvas>
          <div class="overlay-texto">Clique para Desenhar</div>
        </div>
      </div>

      <div class="card-desenho" id="card-desenho-joaninha">
        <h3 class="titulo-tela-desenho joaninha">ğŸ Tela da Equipe Joaninha</h3>
        <div id="preview-container-joaninha" class="preview-container">
          <canvas id="preview-canvas-joaninha"></canvas>
          <div class="overlay-texto">Clique para Desenhar</div>
        </div>
      </div>

      <div class="card-desenho" id="card-desenho-vagalume">
        <h3 class="titulo-tela-desenho vagalume">ğŸ’¡ Tela da Equipe Vaga-lume</h3>
        <div id="preview-container-vagalume" class="preview-container">
          <canvas id="preview-canvas-vagalume"></canvas>
          <div class="overlay-texto">Clique para Desenhar</div>
        </div>
      </div>

    </div>
  </div>

  <div class="progresso-indicador" style="margin-top: 15px;">
    <div class="progresso-indicador-barra" id="progresso-indicador-barra-desenho"></div>
  </div>
  <div class="carrossel-indicadores" id="carrossel-indicadores-desenho"></div>
</div>

    <div class="medalha-info">
      <h2>ğŸ… Sistema de Medalhas</h2>
      <div class="medalhas-grid">
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ”¥</div>
          <div class="medalha-nome">Fagulha</div>
          <div class="medalha-dias">3 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ‘‘</div>
          <div class="medalha-nome">Lenda</div>
          <div class="medalha-dias">10 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸŒŸ</div>
          <div class="medalha-nome">Constante</div>
          <div class="medalha-dias">30 dias</div>
        </div>
        <div class="medalha-item" id="medalha-diamante">
          <div class="medalha-emoji">ğŸ’</div>
          <div class="medalha-nome">Diamante</div>
          <div class="medalha-dias">60 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸš€</div>
          <div class="medalha-nome">Foguete</div>
          <div class="medalha-dias">120 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ†</div>
          <div class="medalha-nome">TrofÃ©u</div>
          <div class="medalha-dias">150 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ”®</div>
          <div class="medalha-nome">Bola de cristal</div>
          <div class="medalha-dias">240 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸŒ</div>
          <div class="medalha-nome">Solar</div>
          <div class="medalha-dias">365 dias</div>
        </div>
		
		<div class="medalha-item">
       <div class="medalha-emoji">ğŸ‰</div>
       <div class="medalha-nome">MÃ­tico</div>
       <div class="medalha-dias">550 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸƒ</div>
       <div class="medalha-nome">Horripilante</div>
       <div class="medalha-dias">730 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸ’£</div>
       <div class="medalha-nome">Poder Destrutivo</div>
       <div class="medalha-dias">900 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸ˜‡</div>
       <div class="medalha-nome">Angelical</div>
       <div class="medalha-dias">1100 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸ’ </div>
       <div class="medalha-nome">Primordial</div>
       <div class="medalha-dias">1460 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">â™¾ï¸</div>
       <div class="medalha-nome">Eterno</div>
       <div class="medalha-dias">1825 dias</div>
     </div>
		
      </div>
    </div>
	
	<div id="secao-ociosos" class="vantagem-container hidden">
  <h2>ğŸ‘¥ Membros Ociosos da Semana</h2>
  <p class="vantagem-descricao" id="ociosos-descricao">
    A lista abaixo mostra os membros que focaram menos de 4 vezes nesta semana (de Segunda a SÃ¡bado).
  </p>
  <div id="lista-ociosos" class="ociosos-lista-container">
    <div class="ociosos-placeholder">Nenhum membro ocioso esta semana.</div>
  </div>
</div>

  </div>
  
  <div id="popup"></div>
  <canvas id="confetti-canvas"></canvas>
  
  <!-- Painel Secreto (adicionado no final do body) -->
  <div id="painel-secreto">
    <div class="painel-header">
      <h2>Painel de Controle Secreto</h2>
      <button class="painel-btn btn-fechar" onclick="togglePainelSecreto(false)">Fechar</button>
    </div>

<div class="painel-section">
  <h3>ğŸ—‘ï¸ Reset do Dia</h3>
  <button class="painel-btn btn-remover" style="width:100%" onclick="resetarDia()">Desmarcar Todos e Zerar o Dia</button>
  <p style="font-size:0.8rem; margin-top:10px; color:#e74c3c">
    ATENÃ‡ÃƒO: Esta aÃ§Ã£o irÃ¡ desmarcar todos os checkboxes do dia atual e zerar o contador de foco do dia. Os pontos semanais e streaks NÃƒO serÃ£o alterados.
  </p>
</div>

    <div class="painel-section">
      <h3>âš ï¸ Reset Geral</h3>
      <button class="painel-btn btn-remover" style="width:100%" onclick="resetarTudo()">Resetar Todos os Dados</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#e74c3c">
        ATENÃ‡ÃƒO: Esta aÃ§Ã£o apagarÃ¡ todo o histÃ³rico e nÃ£o pode ser desfeita!
      </p>
    </div>
  </div>

  <!-- Elementos de Ã¡udio -->
  <audio id="som-check" src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3"></audio>
  <audio id="som-conquista" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
  
  </div>
  
    <div id="popup-message" class="popup-container">
    <h3 id="popup-title"></h3>
    <p id="popup-text"></p>
  </div>
  
  <div id="change-password-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Trocar Senha</h3>
    <input type="password" id="logged-in-new-password" class="auth-input" placeholder="Nova senha">
    <input type="password" id="logged-in-confirm-password" class="auth-input" placeholder="Confirme a nova senha">
    <button id="save-new-password-btn" class="auth-btn">Salvar Nova Senha</button>
    <button class="btn-cancelar" onclick="closeModal('change-password-modal')">Cancelar</button>
  </div>
</div>

<div id="change-secret-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Trocar Pergunta Secreta</h3>
    <label for="new-secret-answer" style="display: block; text-align: left; margin-bottom: 10px;">
      Qual Ã© o nome do primeiro pet que vocÃª jÃ¡ teve (ou tem)?
    </label>
    <input type="text" id="new-secret-answer" class="auth-input" placeholder="Sua nova resposta">
    <button id="save-new-secret-btn" class="auth-btn">Salvar Nova Resposta</button>
    <button class="btn-cancelar" onclick="closeModal('change-secret-modal')">Cancelar</button>
  </div>
</div>
  
  <div id="change-folga-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Alterar Dia de Folga</h3>
    <p style="margin-bottom: 20px; font-size: 0.9rem; color: #7f8c8d;">
      VocÃª sÃ³ pode alterar sua folga <strong>uma vez por semana</strong>. Domingo Ã© folga coletiva e nÃ£o pode ser selecionado.
    </p>
    <select id="select-new-folga" class="auth-input">
      <option value="segunda-feira">Segunda-feira</option>
      <option value="terÃ§a-feira">TerÃ§a-feira</option>
      <option value="quarta-feira">Quarta-feira</option>
      <option value="quinta-feira">Quinta-feira</option>
      <option value="sexta-feira">Sexta-feira</option>
      <option value="sÃ¡bado">SÃ¡bado</option>
    </select>
    <button id="save-new-folga-btn" class="auth-btn">Salvar AlteraÃ§Ã£o</button>
    <button class="btn-cancelar" onclick="closeModal('change-folga-modal')">Cancelar</button>
  </div>
</div>
  
  <div id="message-composer-modal" class="modal-overlay">
  <div id="composer-card" class="composer-card">
    <div class="composer-header">
      <button id="composer-color-btn" title="Mudar cor do card">Escolha a cor</button>
      <div id="composer-color-palette" class="hidden"></div>
      <button id="composer-close-btn" title="Fechar">âœ–</button>
    </div>
    <textarea id="composer-textarea" placeholder="O que vocÃª estÃ¡ pensando?"></textarea>
    <div class="composer-footer">
      <div class="composer-author-info">
        <div id="composer-author" class="mensagem-autor"></div>
        <div id="composer-timestamp" class="mensagem-data"></div>
      </div>
      <div class="composer-actions">
        <div class="anonymous-option">
          <input type="checkbox" id="composer-anonymous-check">
          <label for="composer-anonymous-check">Postar como AnÃ´nimo</label>
        </div>
        <button id="composer-send-btn">Enviar</button>
      </div>
    </div>
  </div>
</div>

<div id="message-viewer-modal" class="modal-overlay">
  <div id="viewer-card" class="composer-card">
    <div class="composer-header">
  <div class="viewer-info-wrapper">
    <div id="viewer-author" class="mensagem-autor"></div>
    <div id="viewer-timestamp" class="mensagem-data"></div>
  </div>
  <button id="viewer-close-btn" title="Fechar">âœ–</button>
</div>
    <div id="viewer-text" class="mensagem-texto expanded"></div>

    <div id="viewer-reacoes-container" class="reacoes-display-container" style="display: none; margin-top: 15px;">
      </div>
    
    <div class="reacao-seletor-bar hidden" style="margin-top: 15px;">
      </div>

    <div class="composer-footer" style="margin-top: 15px;">
       </div>
  </div>
</div>

<div id="confirm-delete-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 400px;">
    <h3>Confirmar ExclusÃ£o</h3>
    <p style="margin-bottom: 25px;">VocÃª tem certeza que deseja excluir esta mensagem permanentemente?</p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-delete-modal')">Cancelar</button>
      <button id="confirm-delete-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Excluir</button>
    </div>
  </div>
</div>
  
<div id="control-panel-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px; width: 95%; max-height: 90vh; overflow-y: auto;">
    <div class="painel-header">
      <h2>Painel de Controle</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('control-panel-modal')">Fechar</button>
    </div>

    <div class="painel-section">
      <h3>Adicionar Novo Membro</h3>
      <div class="controle-pontos" style="grid-template-columns: 1fr 1fr 1fr auto; gap: 15px;">
        <input type="text" id="new-member-name" class="painel-input" placeholder="Nome do Membro">
        <select id="new-member-team" class="painel-input">
          <option value="abelha">Equipe Abelha</option>
          <option value="joaninha">Equipe Joaninha</option>
          <option value="vagalume">Equipe Vaga-lume</option>
        </select>
        <select id="new-member-role" class="painel-input">
          <option value="membro">Membro</option>
          <option value="lider-equipe">LÃ­der de Equipe</option>
        </select>
        <button id="add-member-btn" class="painel-btn btn-adicionar">Adicionar</button>
      </div>
      <div id="new-member-result" style="margin-top: 15px; font-weight: bold; color: #27ae60;"></div>
    </div>

    <div class="painel-section">
      <h3>Remover Membro</h3>
      <div class="controle-pontos" style="grid-template-columns: 1fr auto; gap: 15px;">
        <select id="select-member-to-remove" class="painel-input"></select>
        <button id="remove-member-btn" class="painel-btn btn-remover">Remover</button>
      </div>
    </div>
	
	<div class="painel-section lider-geral-only">
  <h3>ğŸ“Š Ajuste Manual de Pontos</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Adicione ou remova pontos de uma equipe. A aÃ§Ã£o serÃ¡ registrada no Resumo da Semana.
  </p>
  <div class="controle-pontos" style="grid-template-columns: 2fr 1fr auto auto; gap: 15px;">
    <select id="select-equipe-ajuste" class="painel-input">
      <option value="">Selecione uma equipe...</option>
      <option value="abelha">Equipe Abelha</option>
      <option value="joaninha">Equipe Joaninha</option>
      <option value="vagalume">Equipe Vaga-lume</option>
    </select>
    <input type="number" id="input-pontos-ajuste" class="painel-input" placeholder="Pontos">
    <button id="btn-adicionar-pontos" class="painel-btn btn-adicionar">Adicionar</button>
    <button id="btn-remover-pontos" class="painel-btn btn-remover">Remover</button>
  </div>
</div>
	
		<div class="painel-section lider-geral-only"> <h3>ğŸ² ForÃ§ar RecriaÃ§Ã£o do Quiz</h3>
  <button class="painel-btn btn-remover" style="width:100%; background-color: #f39c12;" onclick="forcarRegeracaoQuiz()">Recriar Quiz da Semana</button>
  <p style="font-size:0.8rem; margin-top:10px; color:#e67e22">
    Use isso se o quiz semanal apresentar algum erro ou se vocÃª alterou as informaÃ§Ãµes de um membro e quer que elas apareÃ§am nas perguntas.
  </p>
</div>

    <div class="painel-section lider-geral-only">
      <h3>ğŸ—‘ï¸ Limpar Resumo da Semana</h3>
      <button id="limpar-feed-btn" class="painel-btn btn-remover" style="width:100%">Apagar Todos os Eventos do Feed</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#c0392b;">
        <strong>AtenÃ§Ã£o:</strong> Esta aÃ§Ã£o apagarÃ¡ permanentemente todos os cards de eventos do "Resumo da Semana". Use caso a limpeza automÃ¡tica de segunda-feira falhe.
      </p>
    </div>

    <div class="painel-section lider-geral-only">
      <h3>ğŸ—‘ï¸ Limpar Mural de Mensagens</h3>
      <button id="limpar-mural-btn" class="painel-btn btn-remover" style="width:100%">Apagar Todas as Mensagens do Mural</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#c0392b;">
        <strong>AtenÃ§Ã£o:</strong> Esta aÃ§Ã£o apagarÃ¡ permanentemente todas as mensagens do mural. Use caso a limpeza automÃ¡tica de segunda-feira falhe.
      </p>
    </div>

    <div class="painel-section lider-geral-only">
      <h3>ğŸš€ ForÃ§ar AtualizaÃ§Ã£o de VersÃ£o</h3>
      <button id="trigger-update-btn" class="painel-btn btn-remover" style="width:100%; background-color: #f39c12;">Ativar Tela de AtualizaÃ§Ã£o para Todos</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#e67e22;">
        Use isso apÃ³s fazer uma grande mudanÃ§a no cÃ³digo. Todos os membros serÃ£o forÃ§ados a atualizar a pÃ¡gina.
      </p>
    </div>
    <div class="painel-section lider-geral-only">
      <h3>ğŸ”„ SincronizaÃ§Ã£o Global</h3>
      <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
        Use este botÃ£o se um membro foi adicionado/removido ou se a interface de alguÃ©m parece desatualizada. Isso forÃ§arÃ¡ a atualizaÃ§Ã£o da pÃ¡gina para todos os usuÃ¡rios online.
      </p>
      <button id="force-refresh-btn" class="painel-btn btn-adicionar" style="width:100%; background-color: #3498db;">ForÃ§ar AtualizaÃ§Ã£o para Todos</button>
    </div>
	
	<div class="painel-section lider-geral-only">
  <h3>ğŸ² Ordem dos Jogos da Vantagem</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Arraste os jogos para definir a ordem em que eles aparecerÃ£o nas prÃ³ximas semanas. O primeiro jogo da lista serÃ¡ o desta semana.
  </p>
  
  <ul id="game-order-list" class="game-order-list">
    </ul>

  <button id="save-game-order-btn" class="painel-btn btn-adicionar" style="width:100%; margin-top: 15px;">Salvar Nova Ordem</button>
</div>
	
  </div>
</div>
  
  <div id="new-member-success-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>âœ… Membro Adicionado com Sucesso!</h3>
    <p class="modal-description">Repasse os dados de login para o novo membro. Use os botÃµes para copiar as informaÃ§Ãµes.</p>
    
    <div class="copy-info-container">
      <strong>UsuÃ¡rio:</strong>
      <div class="copy-field">
        <span id="success-username"></span>
        <button onclick="copyToClipboard(document.getElementById('success-username').innerText, 'UsuÃ¡rio')">Copiar</button>
      </div>
    </div>
    
    <div class="copy-info-container">
      <strong>Senha ProvisÃ³ria:</strong>
      <div class="copy-field">
        <span id="success-password"></span>
        <button onclick="copyToClipboard(document.getElementById('success-password').innerText, 'Senha')">Copiar</button>
      </div>
    </div>

    <button class="auth-btn" style="margin-top: 25px;" onclick="closeModal('new-member-success-modal')">OK</button>
  </div>
</div>

<div id="confirm-remove-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ Confirmar RemoÃ§Ã£o</h3>
    <p style="margin-bottom: 25px;">
      VocÃª tem certeza que deseja remover o membro <strong id="member-to-remove-name" style="color: #e74c3c;"></strong>?
      <br><br>
      Esta aÃ§Ã£o Ã© permanente e nÃ£o pode ser desfeita.
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-remove-modal')">Cancelar</button>
      <button id="confirm-remove-button" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Sim, Remover</button>
    </div>
  </div>
</div>
  
  <div id="reactors-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 400px;">
    <h3 id="reactors-modal-title">Reagiram com...</h3>
    <div id="reactors-modal-list" class="reactors-list">
      </div>
    <button id="remove-my-reaction-btn" class="auth-btn" style="display:none; margin-top: 20px; background-color: #e74c3c;">Remover minha reaÃ§Ã£o</button>
    <button class="btn-cancelar" style="margin-top: 15px;" onclick="closeModal('reactors-modal')">Fechar</button>
  </div>
</div>

<div id="placar-vantagem-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <h3>ğŸ† Placar do Jogo da Vantagem</h3>
    <p class="modal-description">
      A ordem mostra quem finalizou o desafio primeiro. ParabÃ©ns aos mais rÃ¡pidos!
    </p>

    <div class="placar-content-wrapper">
      <div class="placar-section">
        <h4>âœ… Finalizaram o Jogo:</h4>
        <div id="placar-completos" class="placar-lista">
        </div>
      </div>

      <div class="placar-section">
        <h4>ğŸ¤” Ainda Faltam:</h4>
        <div id="placar-pendentes" class="placar-lista pendentes">
        </div>
      </div>
    </div>
    <button class="btn-cancelar" style="margin-top: 25px;" onclick="closeModal('placar-vantagem-modal')">Fechar</button>
  </div>
</div>
  
  <div id="confirm-expel-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ Confirmar ExpulsÃ£o</h3>
    <p class="modal-description">
      VocÃª tem certeza que deseja <strong>expulsar permanentemente</strong> o membro <strong id="member-to-expel-name" style="color: #e74c3c;"></strong>?
      <br><br>
      Toda a sua pontuaÃ§Ã£o, streaks e dados serÃ£o apagados. <strong>Esta aÃ§Ã£o nÃ£o pode ser desfeita.</strong>
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-expel-modal')">Cancelar</button>
      <button id="confirm-expel-button" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Sim, Expulsar</button>
    </div>
  </div>
</div>

<div id="confirm-clear-canvas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ Confirmar Limpeza</h3>
    <p id="confirm-clear-canvas-text" class="modal-description" style="margin-bottom: 25px;">
      VocÃª tem certeza que deseja apagar permanentemente todo o desenho desta tela?
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-clear-canvas-modal')">Cancelar</button>
      <button id="confirm-clear-canvas-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Sim, Limpar Tudo</button>
    </div>
  </div>
</div>
  
  <div id="update-overlay" class="update-overlay hidden">
  <div class="update-box">
    <div class="update-icon">ğŸ”„</div>
    <h2>AtualizaÃ§Ã£o DisponÃ­vel</h2>
    <p>
      Foram implemenadas melhorias importantes na pÃ¡gina! Para continuar, por favor, clique no botÃ£o abaixo para carregar a versÃ£o mais recente.
    </p>
    <button id="perform-update-btn" class="update-btn">Fazer AtualizaÃ§Ã£o Agora</button>
  </div>
</div>
  
  <div id="custom-card-popup" class="card-popup-overlay">
  <div class="card-popup-content">
    <h2 id="card-popup-title" class="card-popup-title"></h2>
    <p id="card-popup-message" class="card-popup-message"></p>
    <button id="card-popup-close-btn" class="card-popup-close-btn">Entendido!</button>
  </div>
</div>
  
  <div id="loja-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 90%; width: 1200px; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸª Loja do CondomÃ­nio</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('loja-modal')">Fechar</button>
    </div>
    
    <div id="loja-conteudo" class="ociosos-lista-container">
        <div class="painel-section">
          <h3>ğŸ¡ Casas Pequenas</h3>
          <div id="catalogo-pequenas" class="catalogo-grid"></div>
        </div>
        <div class="painel-section">
          <h3>ğŸ  Casas MÃ©dias</h3>
          <div id="catalogo-medias" class="catalogo-grid"></div>
        </div>
        <div class="painel-section">
          <h3>ğŸ° MansÃµes</h3>
          <div id="catalogo-mansoes" class="catalogo-grid"></div>
        </div>
    </div>
  </div>
</div>

<div id="condominio-view-overlay" class="secao-fullscreen hidden">
  <button class="botao-fechar-secao" onclick="document.getElementById('condominio-view-overlay').classList.add('hidden')">X</button>
  
  <button id="find-my-house-btn" class="botao-info" onclick="findMyHouse()">
    ğŸ  Encontrar minha casa
  </button>
  
  <div id="condominio-map-wrapper">
    <div id="condominio-map">
        </div>
  </div>
</div>
  
  <div id="inventario-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 90%; width: 1200px; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ’ Meu InventÃ¡rio de Casas</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('inventario-modal')">Fechar</button>
    </div>

    <p class="modal-description" style="text-align: center;">Aqui estÃ£o todas as casas que vocÃª jÃ¡ comprou. Clique em uma para defini-la como sua casa principal no condomÃ­nio.</p>

    <div id="inventario-conteudo" class="ociosos-lista-container">
        <div id="inventario-grid" class="catalogo-grid">
          </div>
    </div>
  </div>
</div>

<div id="info-moedas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ’° Como Ganhar Moedas Ã‰picas</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('info-moedas-modal')">Fechar</button>
    </div>

    <div class="ociosos-lista-container" style="padding-right: 10px;">
      <p class="modal-description" style="text-align: center;">
        As moedas sÃ£o usadas para comprar casas e outros itens no CondomÃ­nio Ã‰picos. Participe das atividades do grupo para acumular sua fortuna!
      </p>
      
      <div class="painel-section">
        <h3>âœ… Foco DiÃ¡rio</h3>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward">
              <span class="reward-value" id="reward-focoDiario">100</span> Moedas
              <button class="edit-reward-btn hidden" data-key="focoDiario">âœï¸</button>
            </div>
            <div class="description">Ao marcar seu foco do dia na lista de presenÃ§a.</div>
          </li>
        </ul>
      </div>

      <div class="painel-section">
        <h3>ğŸ† Top 5 do Dia (Foco)</h3>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‡ 1Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_1">25</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_1">âœï¸</button></div>
            <div class="description">Por ficar um dia em 1Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥ˆ 2Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_2">20</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_2">âœï¸</button></div>
            <div class="description">Por ficar um dia em 2Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‰ 3Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_3">15</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_3">âœï¸</button></div>
            <div class="description">Por ficar um dia em 3Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 4Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_4">10</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_4">âœï¸</button></div>
            <div class="description">Por ficar um dia em 4Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 5Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_5">5</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_5">âœï¸</button></div>
            <div class="description">Por ficar um dia em 5Âº lugar.</div>
          </li>
        </ul>
      </div>
      
      <div class="painel-section">
          <h3>âœï¸ InteraÃ§Ã£o Social</h3>
          <ul class="reward-list">
            <li class="reward-item">
              <div class="reward"><span class="reward-value" id="reward-postarMural">5</span> Moedas <button class="edit-reward-btn hidden" data-key="postarMural">âœï¸</button></div>
              <div class="description">Ao publicar uma nova mensagem no Mural.</div>
            </li>
            <li class="reward-item">
              <div class="reward"><span class="reward-value" id="reward-reagirConteudo">1</span> Moedas <button class="edit-reward-btn hidden" data-key="reagirConteudo">âœï¸</button></div>
              <div class="description">Ao reagir a uma mensagem no Mural ou a um evento no Resumo da Semana.</div>
            </li>
          </ul>
      </div>

      <div class="painel-section">
        <h3>ğŸ® Jogo da Vantagem</h3>
         <ul class="reward-list">
            <li class="reward-item">
              <div class="reward"><span class="reward-value" id="reward-vitoriaJogoVantagem">50</span> Moedas <button class="edit-reward-btn hidden" data-key="vitoriaJogoVantagem">âœï¸</button></div>
              <div class="description">Por completar o desafio da semana.</div>
            </li>
        </ul>
        <p class="reward-list-subtitle">AlÃ©m disso, os 5 mais rÃ¡pidos da semana recebem um bÃ´nus no domingo:</p>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‡ 1Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_1">50</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_1">âœï¸</button></div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥ˆ 2Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_2">40</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_2">âœï¸</button></div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‰ 3Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_3">30</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_3">âœï¸</button></div>
          </li>
           <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 4Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_4">20</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_4">âœï¸</button></div>
           </li>
           <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 5Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_5">10</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_5">âœï¸</button></div>
           </li>
        </ul>
      </div>
	  
	   <div class="painel-section">
        <h3>ğŸ† VitÃ³ria Semanal da Equipe</h3>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward">
              <span class="reward-value" id="reward-vitoriaSemanal">500</span> Moedas
              <button class="edit-reward-btn hidden" data-key="vitoriaSemanal">âœï¸</button>
            </div>
            <div class="description">Cada membro da equipe vencedora da semana recebe este prÃªmio no domingo.</div>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>
  
  <div id="confirm-compra-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>Confirmar Compra</h3>
    <p id="confirm-compra-texto" class="modal-description" style="margin-bottom: 25px;">
      VocÃª tem certeza?
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-compra-modal')">Cancelar</button>
      <button id="confirm-compra-btn" class="auth-btn" style="flex: 1; background-color: #2ecc71;">Sim, Comprar</button>
    </div>
  </div>
</div>

<div id="ranking-imobiliario-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 900px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ† Ranking ImobiliÃ¡rio</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('ranking-imobiliario-modal')">Fechar</button>
    </div>

    <div class="ranking-imobiliario-wrapper">
      <div class="ranking-imobiliario-secao">
        <h4>ğŸ¥‡ Mais Casas</h4>
        <div id="ranking-mais-casas-lista" class="ranking-imobiliario-lista">
          <p>Carregando ranking...</p>
        </div>
      </div>

      <div class="ranking-imobiliario-secao">
        <h4>ğŸ’° Maior Valor de Mercado</h4>
        <div id="ranking-maior-valor-lista" class="ranking-imobiliario-lista">
          <p>Carregando ranking...</p>
        </div>
      </div>
    </div>
  </div>
</div>
  
  <div id="user-panel-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
  <div class="painel-header">
    <h2>Painel do UsuÃ¡rio</h2>
  </div>

  <p class="modal-description">Gerencie as configuraÃ§Ãµes da sua conta.</p>
  <button class="painel-btn btn-fechar" onclick="closeModal('user-panel-modal')">Fechar</button>

  <div class="user-panel-actions">
  <button id="btn-abrir-painel-controle" class="user-panel-btn admin hidden">
    ğŸ‘‘ Painel de Controle
  </button>
  
  <button id="btn-abrir-gerador-codigo" class="user-panel-btn admin hidden" style="border-color: #2ecc71; color: #2ecc71;">
    ğŸ’ Gerador de CÃ³digos
  </button>

  <button class="user-panel-btn" onclick="openModal('change-password-modal'); closeModal('user-panel-modal');">
    ğŸ”‘ Alterar minha Senha
  </button>
  <button class="user-panel-btn" onclick="openModal('change-secret-modal'); closeModal('user-panel-modal');">
    ğŸ›¡ï¸ Alterar Pergunta Secreta
  </button>
  <button id="btn-logout-panel" class="user-panel-btn logout">
    ğŸšª Sair
  </button>
</div>
  </div>
</div>
  
  <div id="code-generator-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <div class="painel-header">
      <h2>Gerador de CÃ³digos Secretos</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('code-generator-modal')">Fechar</button>
    </div>
    <p class="modal-description">
      Defina um valor de moedas e clique em "Gerar" para criar um cÃ³digo Ãºnico. Compartilhe o cÃ³digo com o membro que vocÃª deseja recompensar.
    </p>
    <div class="painel-section">
	<h3>Gerar CÃ³digos em Lote</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Gere mÃºltiplos cÃ³digos com o mesmo valor. Cada membro sÃ³ poderÃ¡ resgatar <strong>um</strong> cÃ³digo de cada lote gerado.
  </p>
  <div class="controle-pontos" style="grid-template-columns: 1fr 1fr auto; gap: 15px;">
    <input type="number" id="batch-code-quantity" class="painel-input" placeholder="Quantidade de cÃ³digos">
    <input type="number" id="batch-code-value" class="painel-input" placeholder="Valor em moedas (cada)">
    <button id="generate-batch-code-btn" class="painel-btn btn-adicionar">Gerar Lote</button>
  </div>
</div>

<div id="generated-batch-result" class="painel-section hidden">
  <h3>Lote de CÃ³digos Gerado:</h3>
  <textarea id="batch-codes-result-display" class="painel-input" rows="8" readonly style="margin-bottom: 10px;"></textarea>
  <button class="painel-btn btn-adicionar" style="width:100%" onclick="copyToClipboard(document.getElementById('batch-codes-result-display').value, 'CÃ³digos')">
    Copiar Todos os CÃ³digos
  </button>
</div>
      <div class="controle-pontos" style="grid-template-columns: 1fr auto; gap: 15px;">
        <input type="number" id="code-coin-value" class="painel-input" placeholder="Valor em moedas (ex: 500)">
        <button id="generate-code-btn" class="painel-btn btn-adicionar">Gerar</button>
      </div>
    </div>
    <div id="generated-code-result" class="painel-section hidden">
      <h3>CÃ³digo Gerado:</h3>
      <div class="copy-field">
        <span id="generated-code-display"></span>
        <button onclick="copyToClipboard(document.getElementById('generated-code-display').innerText, 'CÃ³digo')">Copiar</button>
      </div>
    </div>
  </div>
</div>
  
  <div id="resumo-competicao-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ† Resultado da CompetiÃ§Ã£o</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('resumo-competicao-modal')">Fechar</button>
    </div>

    <div id="resumo-competicao-ranking" style="margin-top: 15px; font-size: 1.1rem; text-align: center;">
      </div>
    
    <p class="modal-description" style="text-align: center; margin: 15px 0;">
      Confira abaixo a pontuaÃ§Ã£o detalhada de cada membro na semana que passou.
    </p>

    <div id="resumo-competicao-body" class="ociosos-lista-container" style="padding-right: 15px;">
      </div>
  </div>
</div>

<div id="lista-aniversarios-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ‚ Lista de AniversÃ¡rios</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('lista-aniversarios-modal')">Fechar</button>
    </div>
    <p class="modal-description" style="text-align: center;">
      Veja a data de aniversÃ¡rio de todos os membros. VocÃª pode alterar a sua data apenas uma vez.
    </p>
    <div id="lista-completa-aniversarios-container" class="ociosos-lista-container">
      </div>
  </div>
</div>

<div id="confirm-aniversario-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ ConfirmaÃ§Ã£o NecessÃ¡ria</h3>
    <p id="confirm-aniversario-texto" class="modal-description" style="margin-bottom: 25px;">
      </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-aniversario-modal')">Cancelar</button>
      <button id="confirm-aniversario-btn" class="auth-btn" style="flex: 1; background-color: #2ecc71;">Sim, Confirmar</button>
    </div>
  </div>
</div>
  
  <div id="notificacoes-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ“® Suas NotificaÃ§Ãµes</h2>
      <button class="painel-btn btn-fechar" onclick="fecharEApagarNotificacoes()">Fechar</button>
    </div>

    <p class="modal-description" style="text-align: center;">
      Aqui estÃ£o as reaÃ§Ãµes mais recentes nas suas postagens e eventos.
    </p>

    <div id="notificacoes-lista" class="ociosos-lista-container" style="padding-right: 15px;">
      <div class="ociosos-placeholder">Nenhuma notificaÃ§Ã£o nova.</div>
    </div>
  </div>
</div>

<div id="desenho-modal" class="modal-overlay">
  <div id="desenho-toolbar" class="desenho-toolbar">
    <div class="ferramentas-wrapper">
  <div class="tool-group">
    <label for="cor-pincel">Cor:</label>
    <input type="color" id="cor-pincel" value="#000000">
  </div>
  <div class="tool-group">
    <label for="tamanho-pincel">Tamanho:</label>
    <span id="valor-pincel">5</span>
    <input type="range" id="tamanho-pincel" min="1" max="50" value="5">
  </div>
  <button id="pincel-btn" class="painel-btn ativo" title="Pincel">âœï¸</button> <button id="borracha-btn" class="painel-btn" title="Borracha">Borracha</button> <button id="pan-btn" class="painel-btn" title="Arrastar">ğŸ–ï¸</button> <button id="limpar-tela-btn" class="painel-btn btn-remover">Limpar Tudo</button>
  <button class="painel-btn btn-fechar" onclick="closeModal('desenho-modal')">Fechar</button>
</div>
    <button id="toggle-toolbar-btn" class="toggle-toolbar-btn">â¬‡ï¸</button>
  </div>

  <canvas id="tela-desenho-fullscreen"></canvas>
</div>

<div id="comments-modal" class="modal-overlay">
  <div id="comments-card" class="composer-card" style="height: auto; max-height: 85vh; width: 90%; max-width: 550px;">
    
    <div class="composer-header" style="justify-content: space-between; width: 100%;">
      <h3 id="comments-modal-title" style="margin: 0;">ComentÃ¡rios</h3>
      <button class="close-modal-btn" onclick="closeModal('comments-modal')" title="Fechar">âœ–</button>
    </div>

    <div id="comments-list-container" class="comments-container" style="border-top: 1px solid rgba(0,0,0,0.1); margin-top: 15px; flex-grow: 1; overflow-y: auto;">
      <div id="comments-list" class="comments-list">
        </div>
    </div>

    <div class="comment-input-area" style="margin-top: 15px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 15px;">
      <textarea id="comment-textarea-modal" placeholder="Adicionar um comentÃ¡rio..."></textarea>
      <button id="send-comment-btn-modal" title="Enviar ComentÃ¡rio">â¤</button>
    </div>

  </div>
</div>

<div id="edit-comment-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <h3>Editar ComentÃ¡rio</h3>
    <textarea id="edit-comment-textarea" class="painel-input" rows="5" style="margin-bottom: 15px;"></textarea>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('edit-comment-modal')">Cancelar</button>
      <button id="save-edit-comment-btn" class="auth-btn" style="flex: 1;">Salvar AlteraÃ§Ãµes</button>
    </div>
  </div>
</div>

<div id="confirm-delete-comment-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 400px;">
    <h3>Confirmar ExclusÃ£o</h3>
    <p style="margin-bottom: 25px;">VocÃª tem certeza que deseja excluir este comentÃ¡rio permanentemente?</p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-delete-comment-modal')">Cancelar</button>
      <button id="confirm-delete-comment-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Excluir</button>
    </div>
  </div>
</div>
  
  <div id="global-options-menu" class="hidden"></div>
  
  <script type="module" src="logica.js"></script>
  
</body>
</html>
