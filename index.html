<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã‰picos äº— ğŸŒ±</title>
<link rel="icon" type="image/png" href="https://i.ibb.co/Ps4yK7xy/Picsart-25-02-25-14-28-21-078.jpg">
<link rel="stylesheet" href="estilos.css">
<link rel="manifest" href="manifest.json">
<style id="dynamic-cursor-style"></style>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>
<body>

<div id="maintenance-overlay" class="update-overlay hidden">
  <div class="update-box">
    <div id="maintenance-icon" class="update-icon" style="cursor: pointer;">âš ï¸</div>
    <h2>PÃ¡gina em ManutenÃ§Ã£o</h2>
    <p>
      Algumas melhorias e testes estÃ£o sendo realizados para deixar tudo ainda melhor para todos nÃ³s. Voltaremos em breve!
    </p>
    <form id="maintenance-form" action="javascript:void(0);">
      <div class="password-wrapper hidden" style="max-width: 300px; margin: 20px auto 0;">
        <input type="password" id="maintenance-password" class="auth-input" placeholder="Acesso Restrito">
      </div>
    </form>
  </div>
</div>

<!-- Container de autenticaÃ§Ã£o -->
<div id="auth-container">
  <div class="auth-form">
    <h2>Grupo Ã‰picos äº— ğŸŒ±</h2>
    <div id="login-form">
      <input type="text" id="login-username" class="auth-input" placeholder="Seu nome" autocomplete="username">
      <div class="password-wrapper">
  <input type="password" id="login-password" class="auth-input" placeholder="Senha" autocomplete="current-password">
  <button type="button" id="toggle-password-btn" class="toggle-password" style="display: none;">Ver</button>
</div>
      <div id="login-message" class="auth-message"></div>
      <button id="login-btn" class="auth-btn">Entrar</button>
      <div class="auth-links">
        <span id="forgot-password-link" class="auth-link">Esqueceu a senha?</span>
      </div>
    </div>
    
	<div id="forgot-password-form" class="hidden">
  <h3>RecuperaÃ§Ã£o de Senha</h3>
  <p style="margin-bottom: 20px; font-size: 0.9rem; color: #7f8c8d;">
    Para comeÃ§ar, informe seu nome e responda Ã  sua pergunta secreta.
  </p>
  <input type="text" id="forgot-username" class="auth-input" placeholder="Seu nome" autocomplete="username">
  <label for="secret-answer" style="display: block; text-align: left; margin-bottom: 10px; font-weight: 500;">
    Qual Ã© o nome do primeiro pet que vocÃª jÃ¡ teve (ou tem)?
  </label>
  <input type="text" id="secret-answer" class="auth-input" placeholder="Resposta secreta">
  <div id="forgot-message" class="auth-message"></div>
  <button id="verify-answer-btn" class="auth-btn">Verificar Resposta</button>
  <button id="cancel-forgot-password" class="auth-link" style="margin-top: 15px;">Voltar para o Login</button>
</div>
	
    <div id="change-password-form" class="hidden">
      <input type="password" id="new-password" class="auth-input" placeholder="Nova senha">
      <input type="password" id="confirm-new-password" class="auth-input" placeholder="Confirme a nova senha">
      <div class="password-strength">
        <div id="password-strength-bar" class="password-strength-bar"></div>
      </div>
      <div id="password-message" class="auth-message"></div>
      <button id="change-password-btn" class="auth-btn secondary">Salvar nova senha</button>
     <button class="btn-cancelar" onclick="showLoginForm()">Cancelar</button>
    </div>
	
	<div id="secret-question-form" class="hidden">
  <h3>RecuperaÃ§Ã£o de Senha</h3>
  <p style="margin-bottom: 20px; font-size: 0.9rem; color: #7f8c8d;">
    Para proteger sua conta, vamos criar um mÃ©todo de recuperaÃ§Ã£o.
  </p>
  <label for="setup-secret-answer" style="display: block; text-align: left; margin-bottom: 10px; font-weight: 500;">
    Qual Ã© o nome do primeiro pet que vocÃª jÃ¡ teve (ou tem)?
  </label>
  <input type="text" id="setup-secret-answer" class="auth-input" placeholder="Digite a resposta aqui">
  <button id="save-secret-answer-btn" class="auth-btn">Salvar e Continuar</button>
</div>
	
  </div>
</div>

<div id="main-content" class="hidden">

  <div class="container">
    <header>
      <h1>Ã‰picos äº— ğŸŒ±</h1>
      <div id="dataHoje"></div>
	  <div id="relogio"></div>
      <div id="info-semana"></div>
	  
	  <div class="botoes-info-container">
        <button id="btn-instrucoes" class="botao-info">ğŸ“œ InstruÃ§Ãµes</button>
        <button id="btn-advertencias" class="botao-info">âš ï¸ AdvertÃªncias</button>
      </div>
      </header>
	  
	 <div id="painel-pessoal-container">
	 
	 <div id="pointing-hand-indicator" style="display: none; position: absolute; font-size: 3rem; z-index: 10002; pointer-events: none; transform: rotate(90deg); text-shadow: 0 4px 8px rgba(0,0,0,0.4);">
    ğŸ‘‰
  </div>
  
  <div class="perfil-header">
  <h2 id="saudacao-pessoal">OlÃ¡, <span id="nome-usuario-saudacao">Membro</span>!</h2>
  <div id="avatar-display-pessoal" class="avatar-container-pessoal" title="Editar meu avatar">
  </div>
</div>
  
  <button id="notificacoes-btn" class="botao-info">
  ğŸ“® NotificaÃ§Ãµes
  <span id="notificacoes-contador" class="hidden">0</span>
</button>

  <div id="indicador-equipe-pessoal" class="info-box hidden">
    Equipe Desconhecida
  </div>
  
  <button id="btn-abrir-envio-moedas" class="botao-info" style="background-color: #27ae60;">
    ğŸ Envio de Moedas DiÃ¡rias
  </button>

  <div class="info-box">
    <div id="indicador-moedas-pessoal" class="info-box-valor">
      ğŸ’° <span>0</span>
    </div>
    <div class="info-box-label">Moedas</div>
  </div>
  
  <button id="botao-painel-usuario" class="botao-info hidden">
    âš™ï¸ Painel do UsuÃ¡rio
  </button>

</div>

    <div class="vantagem-container">
  <h2>ğŸ CÃ³digo Secreto</h2>
  <p class="vantagem-descricao">
    Se vocÃª recebeu um cÃ³digo de recompensa do lÃ­der, insira-o abaixo para resgatar suas moedas!
  </p>
  <div id="redeem-code-section" style="max-width: 400px; margin: 0 auto;">
    <input type="text" id="secret-code-input" class="painel-input" placeholder="Digite o cÃ³digo aqui" maxlength="6">
    <button id="redeem-code-btn" class="painel-btn btn-adicionar" style="margin-top: 10px; width: 100%;">Resgatar Moedas</button>
  </div>
</div>

    <div id="secao-instrucoes" class="secao-fullscreen hidden">
      <button class="botao-fechar-secao">X</button>
      <div class="secao-conteudo">
        </div>
    </div>

    <div id="secao-advertencias" class="secao-fullscreen hidden">
      <button class="botao-fechar-secao">X</button>
      <div class="secao-conteudo">
        </div>
    </div

    </header>
    
	<div class="aniversariantes-container">
  <h2 style="text-align: center;">ğŸ‚ Aniversariantes do MÃªs</h2>
  <div style="text-align: center; margin-bottom: 20px;">
    <button id="btn-ver-lista-aniversarios" class="botao-info">ğŸ“‹ Ver Lista de AniversÃ¡rios</button>
</div>
  <div id="aniversariantes-hoje" class="aniversariantes-hoje">
    <!-- ConteÃºdo gerado dinamicamente -->
  </div>
  <div id="proximos-aniversarios" class="proximos-aniversarios">
    <!-- ConteÃºdo gerado dinamicamente -->
  </div>
</div>
	
    <div class="stats-container">
      <div class="global-stats">
        <div id="contadorGeral">0 Ã©picos focaram hoje!</div>
        <div class="progresso-container">
          <div id="progresso-barra"></div>
		  <div id="marcador-arvore" class="marcador-arvore" style="display: none;" title="Meta para a Ãrvore Ã‰pica">
    <div class="linha-vertical"></div>
    <div class="emoji-arvore">ğŸŒ³</div>
</div>
  </div>
  <div id="mensagem-todos-focados" class="hidden" style="margin-top: 15px; font-weight: bold; color: #9b59b6; font-size: 1.1rem;"></div>
</div>
      </div>
    
    <div class="competicao-container">
      <h2>ğŸ† CompetiÃ§Ã£o de Equipes</h2>
      <div class="equipes-competicao">
        <div class="equipe-competicao" id="podio-abelha">
          <h3>ğŸ Abelha</h3>
          <div class="score" id="ranking-abelha">0</div>
          <div>VitÃ³rias</div>
        </div>
        <div class="equipe-competicao" id="podio-joaninha">
          <h3>ğŸ Joaninha</h3>
          <div class="score" id="ranking-joaninha">0</div>
          <div>VitÃ³rias</div>
        </div>
        <div class="equipe-competicao" id="podio-vagalume">
          <h3>ğŸ’¡ Vaga-lume</h3>
          <div class="score" id="ranking-vagalume">0</div>
          <div>VitÃ³rias</div>
        </div>
      </div>
      <p style="margin-top: 15px; font-size: 0.9em; color: #7f8c8d;">
	  <strong>Foque no mÃ­nimo 40 minutos, e cuide da fazenda do grupo 2 vezes para marcar seu ponto!</strong><br>
        CompetiÃ§Ã£o semanal: Segunda a SÃ¡bado.<br>
        A equipe com mais pontos ao final da competiÃ§Ã£o ganha +1 ponto no ranking de equipes.<br>
        Em caso de empate, todas as equipes empatadas ganham +1 ponto.<br>
      </p>
    </div>
	
		<div class="container-top5">
  <div class="ranking-top-container">
    <h2>ğŸŒŸ Top 5 Ã‰picos da Semana</h2>
	 <p class="ranking-desempate">O critÃ©rio de desempate do TOP 5 utiliza a velocidade. Ou seja, os membros que focam primeiro, ficam em primeiro!</p>
    <div id="ranking-top-lista" class="ranking-lista">
      <!-- Ranking serÃ¡ gerado dinamicamente aqui -->
    </div>
    <div class="ranking-mensagem">ParabÃ©ns aos mais focados entre todos os Ã‰picos!</div>
  </div>
</div>

<div id="secao-medalhas-honra" class="nossas-informacoes"> <h2>ğŸ… Medalhas de Honra</h2>
      <p class="mural-descricao">
        Medalhas de mÃ©rito concedidas pelos LÃ­deres aos membros que se destacam. Cada uma representa o reconhecimento da dedicaÃ§Ã£o individual e das contribuiÃ§Ãµes especiais ao grupo. Inspire-se nas conquistas!
      </p>

      <div style="text-align: center; margin-bottom: 25px;">
          <button id="btn-exposicao-medalhas" class="botao-info">
            ğŸ† ExposiÃ§Ã£o de Medalhas
          </button>
      </div>

      <div class="carrossel-wrapper">
        <div class="carrossel-controles">
          <button class="controle-btn" onclick="mudarSlideMedalhas(-1)">â®</button>
          <button class="controle-btn" id="botao-pausa-medalhas" onclick="togglePausaMedalhas()">â¸</button>
          <button class="controle-btn" onclick="mudarSlideMedalhas(1)">â¯</button>
        </div>

        <div class="carrossel">
          <div class="carrossel-container" id="carrossel-container-medalhas">
            <div class="card-membro"><p>Carregando medalhas...</p></div>
          </div>
        </div>
      </div>

      <div class="progresso-indicador" style="margin-top: 15px;">
        <div class="progresso-indicador-barra" id="progresso-indicador-barra-medalhas"></div>
      </div>

      <div class="carrossel-indicadores" id="carrossel-indicadores-medalhas">
        </div>
    </div>


<div id="exposicao-medalhas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 90%; width: 1000px; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ† ExposiÃ§Ã£o de Medalhas de Honra</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('exposicao-medalhas-modal')">Fechar</button>
    </div>
	<div id="exposicao-scroll-content" style="flex-grow: 1; overflow-y: auto; padding: 10px;">
    <div id="exposicao-medalhas-filtros" style="text-align: center; margin-bottom: 15px; display: flex; gap: 10px; justify-content: center;">
        <button class="painel-btn filtro-raridade ativo" data-raridade="todas">Todas</button>
        <button class="painel-btn filtro-raridade comum" data-raridade="Comum">Comuns</button>
        <button class="painel-btn filtro-raridade incomum" data-raridade="Incomum">Incomuns</button>
        <button class="painel-btn filtro-raridade rara" data-raridade="Rara">Raras</button>
        <button class="painel-btn filtro-raridade lendaria" data-raridade="LendÃ¡ria">LendÃ¡rias</button>
    </div>
    <div id="exposicao-medalhas-grid" class="ociosos-lista-container" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; padding: 10px;">
      <p>Carregando medalhas...</p>
    </div>
  </div>
  </div>
</div>

<div id="detalhes-medalha-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px;">
    <div class="painel-header">
      <h2 id="detalhes-medalha-nome">Nome da Medalha</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('detalhes-medalha-modal')">Fechar</button>
    </div>
    <div id="detalhes-medalha-body" style="text-align: left;">
      <div style="text-align: center; margin-bottom: 15px;">
        <img id="detalhes-medalha-img" src="" alt="Medalha" style="width: 100px; height: 100px;">
        <div id="detalhes-medalha-raridade" style="font-weight: bold; margin-top: 5px;"></div>
        <div id="detalhes-medalha-valor" style="font-size: 1.2em;"></div>
      </div>
      <div class="painel-section">
        <h4>Possuidores (<span id="detalhes-medalha-possuidores-count">0</span>)</h4>
        <div id="detalhes-medalha-possuidores-lista" class="medalha-membros-lista"></div>
      </div>
      <div class="painel-section">
        <h4>Lista de Desejos (<span id="detalhes-medalha-desejos-count">0</span>)</h4>
        <div id="detalhes-medalha-desejos-lista" class="medalha-membros-lista"></div>
      </div>
      <button id="detalhes-medalha-quero-btn" class="auth-btn" style="margin-top: 20px; width: 100%;">Quero Essa!</button>
      <button id="detalhes-medalha-comprar-btn" class="auth-btn hidden" style="margin-top: 10px; width: 100%; background-color: #2ecc71;">Comprar para Membro</button>
	  <button id="detalhes-medalha-comprar-mim-btn" class="auth-btn hidden" style="margin-top: 10px; width: 100%; background-color: #9b59b6;">Comprar para Mim</button>
    </div>
  </div>
</div>

<div id="compra-medalha-modal" class="modal-overlay">
    <div class="modal-content" style="max-width: 500px;">
        <div class="painel-header">
            <h2>ğŸ›’ Comprar Medalha de Honra</h2>
            <button class="painel-btn btn-fechar" onclick="closeModal('compra-medalha-modal')">Fechar</button>
        </div>
        <div id="compra-medalha-info" style="text-align: center; margin-bottom: 20px;">
            <img id="compra-medalha-img" src="" alt="" style="width: 80px; height: 80px; margin-bottom: 10px;">
            <div id="compra-medalha-nome" style="font-weight: bold;"></div>
            <div>Valor: <span id="compra-medalha-valor"></span> Moedas</div>
        </div>
        <p class="modal-description" style="text-align: center;">Selecione o membro para quem vocÃª deseja comprar esta medalha:</p>
        <select id="compra-medalha-select-membro" class="painel-input" style="margin-bottom: 20px;">
            <option value="">Selecione...</option>
        </select>
        <div style="display: flex; justify-content: space-around; gap: 15px;">
            <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('compra-medalha-modal')">Cancelar</button>
            <button id="compra-medalha-confirmar-btn" class="auth-btn" style="flex: 1; background-color: #2ecc71;">Confirmar Compra</button>
        </div>
    </div>
</div>

<div id="ordenar-medalhas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <div class="painel-header">
      <h2>ğŸ”„ Ordenar Medalhas</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('ordenar-medalhas-modal')">Fechar</button>
    </div>
    <p class="modal-description" style="text-align: center;">
      Arraste as medalhas para definir a ordem em que elas aparecerÃ£o no seu perfil. As primeiras 6 ficarÃ£o na pÃ¡gina inicial.
    </p>
    <ul id="ordenar-medalhas-lista" class="ordenar-lista">
      <li>Carregando suas medalhas...</li>
    </ul>
    <button id="ordenar-medalhas-salvar-btn" class="auth-btn" style="margin-top: 20px; background-color: #2ecc71;">Salvar Ordem</button>
  </div>
</div>
	
	<div class="vantagem-container">
  <h2>ğŸ® Jogo da Vantagem</h2>
  <p class="vantagem-descricao">
  <div id="leader-advantage-controls" class="hidden" style="margin-bottom: 20px;">
    <button id="leader-test-button" class="painel-btn btn-adicionar">Testar Jogos</button>
    <div id="leader-test-panel" class="hidden">
        <h4>Selecione um jogo para testar:</h4>
        <ul id="leader-game-list">
            </ul>
    </div>
</div>
    DisponÃ­vel de Segunda a Sexta. Para que sua equipe garanta os pontos de bÃ´nus no SÃ¡bado, todos os membros ativos devem concluir o desafio atÃ© Ã s 23:59 de sexta!
  </p>
  
  <div style="text-align: center; margin-bottom: 20px;">
    <button id="ver-placar-btn" class="auth-btn" style="background-color: #3498db;" onclick="abrirPlacarVantagem()">Ver Placar</button>
  </div>
  
  <p class="vantagem-jogo-atual" id="vantagem-jogo-nome"></p>

  <div class="vantagem-game-wrapper">
    <div id="advantage-game-board"></div>

    <div id="vantagem-locked-overlay" class="hidden">
      <div class="lock-icon">âœ…</div>
      <p id="vantagem-lock-message">Desafio concluÃ­do esta semana! Volte na segunda-feira para o prÃ³ximo.</p>
    </div>
  </div>
</div>

	<div id="secao-pix" class="vantagem-container">
    <h2>ğŸ’° Pix dos Ã‰picos</h2>
    <p class="vantagem-descricao">
        Transfira moedas instantaneamente para seus colegas ou verifique a autenticidade de um comprovante.
    </p>

    <div id="pix-tela-inicial">
        <div class="painel-section">
            <h3>Verificar Comprovante</h3>
            <div class="controle-pontos" style="grid-template-columns: 1fr auto;">
                <input type="text" id="pix-codigo-verificacao" class="painel-input" placeholder="Insira o cÃ³digo de transaÃ§Ã£o Ãºnico">
                <button id="pix-verificar-btn" class="painel-btn btn-adicionar">Verificar</button>
            </div>
        </div>
        <button id="pix-iniciar-btn" class="auth-btn" style="margin-top: 20px; background-color: #9b59b6;">Nova TransferÃªncia</button>
    </div>

    <div id="pix-etapas-container" class="hidden">

    <div id="pix-step-1" class="pix-step">
        <h4>1. Selecione um ou mais membros para enviar moedas:</h4>
        <div id="pix-lista-membros" class="ociosos-lista-container" style="max-height: 250px; text-align: left; padding: 10px;">
            </div>
        <button id="pix-step1-next" class="auth-btn" style="margin-top: 15px;">Pronto</button>
        <div class="pix-botoes-navegacao">
            <button class="btn-cancelar pix-cancel-btn" onclick="navegarPix(0)">Cancelar</button>
        </div>
    </div>

    <div id="pix-step-2" class="pix-step hidden">
        <h4>2. Digite o valor a ser enviado:</h4>
        <div id="pix-saldo-atual" style="font-size: 1.1rem; margin-bottom: 15px;">Seu Saldo: ğŸ’° <span>0</span></div>
        <div id="pix-valor-display" class="painel-input" style="font-size: 2rem; text-align: center; margin-bottom: 20px; font-weight: bold;">0</div>
        <div id="pix-teclado-numerico">
            </div>
        <button id="pix-step2-next" class="auth-btn" style="margin-top: 20px;">Pronto</button>
        <div class="pix-botoes-navegacao">
            <button class="pix-voltar-btn" onclick="navegarPix(1)">Voltar</button>
            <button class="btn-cancelar pix-cancel-btn" onclick="navegarPix(0)">Cancelar</button>
        </div>
    </div>

    <div id="pix-step-3" class="pix-step hidden">
        <h4>3. Adicione um comentÃ¡rio (opcional):</h4>
        <textarea id="pix-comentario-input" class="painel-input" rows="4" placeholder="Deixe uma mensagem..."></textarea>
        <button id="pix-step3-next" class="auth-btn" style="margin-top: 15px;">Pronto</button>
        <div class="pix-botoes-navegacao">
            <button class="pix-voltar-btn" onclick="navegarPix(2)">Voltar</button>
            <button class="btn-cancelar pix-cancel-btn" onclick="navegarPix(0)">Cancelar</button>
        </div>
    </div>

    <div id="pix-step-4" class="pix-step hidden">
        <h4>4. Confirme os dados da transferÃªncia:</h4>
        <div id="pix-resumo-confirmacao" class="painel-section">
            </div>
        <button id="pix-step4-next" class="auth-btn" style="margin-top: 15px; background-color: #2ecc71;">EstÃ¡ tudo correto</button>
        <div class="pix-botoes-navegacao">
            <button class="pix-voltar-btn" onclick="navegarPix(3)">Voltar</button>
            <button class="btn-cancelar pix-cancel-btn" onclick="navegarPix(0)">Cancelar</button>
        </div>
    </div>

    <div id="pix-step-5" class="pix-step hidden">
        <h4>5. Para sua seguranÃ§a, digite sua senha:</h4>
<p style="font-size: 1rem; color: #7f8c8d; display: block; margin-top: -10px; margin-bottom: 15px;">
  (a mesma senha utilizada para fazer login)
</p>
        <input type="password" id="pix-senha-input" class="auth-input" placeholder="Sua senha" autocomplete="current-password">
        <button id="pix-executar-btn" class="auth-btn" style="margin-top: 15px;">Confirmar TransferÃªncia</button>
        <div class="pix-botoes-navegacao">
            <button class="pix-voltar-btn" onclick="navegarPix(4)">Voltar</button>
            <button class="btn-cancelar pix-cancel-btn" onclick="navegarPix(0)">Cancelar</button>
        </div>
    </div>

    <div id="pix-step-6" class="pix-step hidden">
        <h4>âœ… TransferÃªncia realizada com sucesso!</h4>
        <div id="pix-comprovante-wrapper">
            <div id="pix-comprovante">
                <h3 class="comprovante-titulo">Ã‰picos äº— ğŸŒ±</h3>
                <p class="comprovante-subtitulo">Comprovante de TransferÃªncia</p>
                <div class="comprovante-dados">
                    </div>
            </div>
        </div>
        <button id="pix-salvar-comprovante-btn" class="auth-btn" style="margin-top: 20px;">Baixar Comprovante</button>
        <button id="pix-nova-transferencia-btn" class="auth-btn" style="background-color:#3498db; margin-top: 10px;">Fazer Nova TransferÃªncia</button>
    </div>

</div>
</div>
	
		  <div id="resumo-semana-container" class="mural-container">
      <h2>ğŸ“° Resumo da Semana</h2>
      <p class="mural-descricao">
        Acompanhe em tempo real as principais conquistas e eventos da semana! Este feed Ã© zerado toda segunda-feira.
      </p>
      <div class="mural-scroll-wrapper"> 
        <div id="feed-semanal-cards">
          <div class="carregando">Carregando feed da semana...</div>
        </div>
      </div>
    </div>
	
    <div class="grupos-container" id="grupos-container">
      <!-- ConteÃºdo serÃ¡ gerado dinamicamente pelo JavaScript -->
    </div>

<div id="pix-verify-modal" class="modal-overlay">
    <div class="modal-content" style="max-width: 500px;">
        <div class="painel-header">
            <h2>Comprovante Verificado</h2>
            <button class="painel-btn btn-fechar" onclick="closeModal('pix-verify-modal')">Fechar</button>
        </div>
        <div id="pix-verify-details" class="painel-section" style="text-align: left; line-height: 1.8;">
            </div>
    </div>
</div>
	
	<div id="chat-ia-secao" class="mural-container">
  <h2>ğŸ§™â€ OrÃ¡culo</h2>
  <p class="mural-descricao">
    Converse com o OrÃ¡culo, o membro mais sÃ¡bio e observador do grupo. Ele estÃ¡ por dentro de tudo: regras, placares, mensagens do mural, desenhos das equipes e atÃ© seus gostos pessoais. Use este espaÃ§o para pedir conselhos, tirar dÃºvidas, desabafar ou simplesmente ter uma boa conversa.<br>Cada mensagem tem um pequeno custo de 50 ğŸ’° moedas.
  </p>
  
  <div id="chat-ia-messages">
    </div>

  <div class="chat-input-area">
    <textarea id="chat-ia-input" placeholder="Pergunte algo..."></textarea>
    <button id="chat-ia-send-btn">â¤</button>
  </div>
</div>
	
	<div id="condominio-container" class="arvore-epica-container">
  <h2>ğŸ¡ CondomÃ­nio Ã‰picos</h2>
  <div id="condominio-info-header">
      <strong id="nome-membro-condominio"></strong>
      <div id="saldo-moedas-container">
          <span class="moeda-emoji">ğŸ’°</span>
          <span id="saldo-moedas">0</span>
      </div>
  </div>
  <p class="arvore-explicacao">Veja abaixo sua casa no condomÃ­nio Ã©picos.</p>

  <div style="text-align: center; margin-bottom: 25px;">
    <button class="botao-info" onclick="openModal('info-moedas-modal')">
      â„¹ï¸ Como ganhar moedas?
    </button>
  </div>

  <div class="tree-display">
    <div class="tree-sky day-mode">
      <div class="stars-container"></div>
    </div>
    <div id="sol-condominio" class="sky-object"><img src="https://i.ibb.co/TD9sxMNF/Sol.png" alt="Sol"></div>
    <div id="lua-condominio" class="sky-object"><img src="https://i.ibb.co/93f7Ptjr/Lua.png" alt="Lua"></div>
    <img class="nuvem nuvem-1" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
    <img class="nuvem nuvem-2" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
    <img class="nuvem nuvem-3" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
    
    <div class="ground"></div>

    <div id="lote-pessoal-container">
        </div>
  </div>

  <div class="botoes-info-container" style="margin-top: 25px;">
  <button id="btn-abrir-loja" class="botao-info">ğŸª Abrir Loja</button>
  <button id="btn-abrir-inventario" class="botao-info">ğŸ’ Meu InventÃ¡rio</button>
  <button id="btn-ver-condominio" class="botao-info">ğŸ˜ï¸ Ver CondomÃ­nio</button>
  <button id="btn-ranking-imobiliario" class="botao-info">ğŸ† Ranking ImobiliÃ¡rio</button>
</div>
</div>
    
	<!-- Quadro de Folgas -->
<div class="folgas-container">
  
  <h2>ğŸ“… Quadro de Folgas</h2>
  <p class="folga-explicacao">No dia da sua folga, sua caixa de seleÃ§Ã£o serÃ¡ marcada automaticamente, sem que vocÃª precise focar ou cuidar da fazenda.</p>
<button id="change-folga-btn" class="rectangular-button" title="Alterar minha folga">Trocar Folga</button>
  
  <div class="dias-container">
    <div class="dia-col">
      <h3>Segunda</h3>
      <div class="lista-membros" id="segunda"></div>
    </div>
    <div class="dia-col">
      <h3>TerÃ§a</h3>
      <div class="lista-membros" id="terca"></div>
    </div>
    <div class="dia-col">
      <h3>Quarta</h3>
      <div class="lista-membros" id="quarta"></div>
    </div>
    <div class="dia-col">
      <h3>Quinta</h3>
      <div class="lista-membros" id="quinta"></div>
    </div>
    <div class="dia-col">
      <h3>Sexta</h3>
      <div class="lista-membros" id="sexta"></div>
    </div>
    <div class="dia-col">
      <h3>SÃ¡bado</h3>
      <div class="lista-membros" id="sabado"></div>
    </div>
    <div class="dia-col">
      <h3>Domingo</h3>
      <div class="lista-membros" id="domingo"></div>
    </div>
  </div>
</div>
    
    <!-- SEÃ‡ÃƒO ATUALIZADA: Ãrvore Ã‰pica com espaÃ§o idÃªntico ao cÃ³digo de referÃªncia -->
    <div id="secao-arvore-epica" class="arvore-epica-container">
      <h2>ğŸŒ³ Ãrvore Ã‰pica</h2>

      <p class="arvore-explicacao">
        A Ã¡rvore cresce com o esforÃ§o coletivo! Se <strong>10 ou mais Ã©picos</strong> focarem no mesmo dia, a Ã¡rvore avanÃ§a um dia em sua jornada de crescimento. Caso contrÃ¡rio, a sequÃªncia Ã© quebrada. Vamos cultivar nosso foco juntos!
      </p>
      
      <div class="tree-display">
        <div class="tree-sky day-mode">
          <div class="stars-container"></div>
        </div>
        <div id="sol" class="sky-object"><img src="https://i.ibb.co/TD9sxMNF/Sol.png" alt="Sol"></div>
        <div id="lua" class="sky-object"><img src="https://i.ibb.co/93f7Ptjr/Lua.png" alt="Lua"></div>
        <img class="nuvem nuvem-1" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-2" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-3" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-4" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-5" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <img class="nuvem nuvem-6" src="https://i.ibb.co/rfsS1Tp9/nuvem.png" alt="Nuvem">
        <div class="ground"></div>
        <img id="seed" class="tree-image" src="https://i.ibb.co/7xsw9ZVd/semente.png" alt="Semente">
        <img id="sprout" class="tree-image" src="https://i.ibb.co/WNcWgWgn/broto.png" alt="Broto" style="display: none;">
        <img id="tree" class="tree-image" src="https://i.ibb.co/0jS2220Z/arvore.png" alt="Ãrvore" style="display: none;">
        <img id="flowers" class="tree-image" src="https://i.ibb.co/FrMst3S/flores.png" alt="Flores" style="display: none;">
        <img id="fruits" class="tree-image" src="https://i.ibb.co/9k6HjBFk/frutos.png" alt="Frutos" style="display: none;">
      </div>
      
      <div class="tree-info">
        <div class="stage-info" id="stage-name">Semente</div>
        <div class="stage-desc" id="stage-desc">A jornada comeÃ§a com um Ãºnico dia de foco. Vamos plantar nossa semente e cultivar nossa dedicaÃ§Ã£o diÃ¡ria!</div>
        
        <div class="arvore-status-diario">
          <div id="status-focado" class="status-badge">âœ… 0 Ã©picos focaram hoje</div>
          <div id="status-nao-focado" class="status-badge">âŒ 0 Ã©picos ainda nÃ£o focaram</div>
        </div>

        <div class="progresso-consecutivo">
          <strong>Dias consecutivos: <span id="dias-consecutivos">0</span></strong><br>
          <span id="proxima-fase"></span>
        </div>
      </div>
    </div>
	
	<!-- SeÃ§Ã£o do Mural de Mensagens -->
    <div class="mural-container">
  <h2>âœï¸ Mural de Mensagens</h2>
  <div class="mural-actions">
    <button id="open-composer-btn">Escrever Mensagem</button>
  </div>
  <div class="mural-scroll-wrapper"> 
    <div id="mural-mensagens">
    </div>
  </div>
  </div>
    
   <div class="nossas-informacoes">
  <h2>ğŸ’– Nossas InformaÃ§Ãµes</h2>
  
  <div class="carrossel-wrapper">
    <div class="carrossel-controles">
  <button class="controle-btn" onclick="mudarSlide(-1)">â®</button>
  <button class="controle-btn" id="botao-pausa" onclick="togglePausa()">â¸</button>
  <button class="controle-btn" onclick="mudarSlide(1)">â¯</button>
</div>
    
    <div class="carrossel">
      <div class="carrossel-container" id="carrossel-container">
        <!-- Cards serÃ£o inseridos aqui pelo JavaScript -->
      </div>
    </div>
  </div>
  
<div class="progresso-indicador" style="margin-top: 15px;">
  <div class="progresso-indicador-barra" id="progresso-indicador-barra"></div>
</div>
  
  <div class="carrossel-indicadores" id="carrossel-indicadores">
    <!-- Indicadores serÃ£o gerados aqui -->
  </div>
</div>

<div id="secao-desenho" class="vantagem-container">
  <h2>ğŸ¨ Solte sua ImaginaÃ§Ã£o</h2>
  <p class="vantagem-descricao">
    Um espaÃ§o livre para cada equipe desenhar e se expressar. Membros sÃ³ podem editar a tela da sua prÃ³pria equipe.
  </p>
  <div class="carrossel-wrapper">
    <div class="carrossel-controles">
      <button class="controle-btn" onclick="mudarSlideDesenho(-1)">â®</button>
      <button class="controle-btn" id="botao-pausa-desenho" onclick="togglePausaDesenho()">â¸</button>
      <button class="controle-btn" onclick="mudarSlideDesenho(1)">â¯</button>
    </div>
    <div class="carrossel-container" id="carrossel-container-desenho">
  <div class="card-desenho" id="card-desenho-abelha">
    <h3 class="titulo-tela-desenho abelha">ğŸ Tela da Equipe Abelha</h3>
    <div id="preview-container-abelha" class="preview-container">
      <canvas id="preview-canvas-abelha"></canvas>
      <div class="loading-overlay hidden"></div>
      <div class="overlay-texto">Clique para Desenhar</div>
    </div>
    <div class="desenho-info-rodape">
  <button class="botao-autores" onclick="abrirModalAutores('abelha')">Ver Autores</button>
  <div class="avaliacao-desenho">
    <div id="like-container-abelha" class="reacao-display" onclick="abrirModalAvaliadores('abelha', 'likes')" title="Ver quem curtiu">
      <button id="like-btn-abelha" onclick="event.stopPropagation(); avaliarDesenho('abelha', 'like')">ğŸ‘</button>
      <span class="like-count">0</span>
    </div>
    <div id="dislike-container-abelha" class="reacao-display" onclick="abrirModalAvaliadores('abelha', 'dislikes')" title="Ver quem nÃ£o curtiu">
      <button id="dislike-btn-abelha" onclick="event.stopPropagation(); avaliarDesenho('abelha', 'dislike')">ğŸ‘</button>
      <span class="dislike-count">0</span>
    </div>
  </div>
</div>
  </div>
  <div class="card-desenho" id="card-desenho-joaninha">
    <h3 class="titulo-tela-desenho joaninha">ğŸ Tela da Equipe Joaninha</h3>
    <div id="preview-container-joaninha" class="preview-container">
      <canvas id="preview-canvas-joaninha"></canvas>
      <div class="loading-overlay hidden"></div>
      <div class="overlay-texto">Clique para Desenhar</div>
    </div>
    <div class="desenho-info-rodape">
  <button class="botao-autores" onclick="abrirModalAutores('joaninha')">Ver Autores</button>
  <div class="avaliacao-desenho">
    <div id="like-container-joaninha" class="reacao-display" onclick="abrirModalAvaliadores('joaninha', 'likes')" title="Ver quem curtiu">
      <button id="like-btn-joaninha" onclick="event.stopPropagation(); avaliarDesenho('joaninha', 'like')">ğŸ‘</button>
      <span class="like-count">0</span>
    </div>
    <div id="dislike-container-joaninha" class="reacao-display" onclick="abrirModalAvaliadores('joaninha', 'dislikes')" title="Ver quem nÃ£o curtiu">
      <button id="dislike-btn-joaninha" onclick="event.stopPropagation(); avaliarDesenho('joaninha', 'dislike')">ğŸ‘</button>
      <span class="dislike-count">0</span>
    </div>
  </div>
</div>
  </div>
  <div class="card-desenho" id="card-desenho-vagalume">
    <h3 class="titulo-tela-desenho vagalume">ğŸ’¡ Tela da Equipe Vaga-lume</h3>
    <div id="preview-container-vagalume" class="preview-container">
      <canvas id="preview-canvas-vagalume"></canvas>
      <div class="loading-overlay hidden"></div>
      <div class="overlay-texto">Clique para Desenhar</div>
    </div>
    <div class="desenho-info-rodape">
  <button class="botao-autores" onclick="abrirModalAutores('vagalume')">Ver Autores</button>
  <div class="avaliacao-desenho">
    <div id="like-container-vagalume" class="reacao-display" onclick="abrirModalAvaliadores('vagalume', 'likes')" title="Ver quem curtiu">
      <button id="like-btn-vagalume" onclick="event.stopPropagation(); avaliarDesenho('vagalume', 'like')">ğŸ‘</button>
      <span class="like-count">0</span>
    </div>
    <div id="dislike-container-vagalume" class="reacao-display" onclick="abrirModalAvaliadores('vagalume', 'dislikes')" title="Ver quem nÃ£o curtiu">
      <button id="dislike-btn-vagalume" onclick="event.stopPropagation(); avaliarDesenho('vagalume', 'dislike')">ğŸ‘</button>
      <span class="dislike-count">0</span>
    </div>
  </div>
</div>
  </div>
</div>
  </div>
  <div class="progresso-indicador" style="margin-top: 15px;">
    <div class="progresso-indicador-barra" id="progresso-indicador-barra-desenho"></div>
  </div>
  <div class="carrossel-indicadores" id="carrossel-indicadores-desenho"></div>
</div>
<div id="desenho-modal" class="modal-overlay">
<button class="close-modal-btn" onclick="fecharModalDesenho()">âœ–</button>

  <div id="desenho-toolbar" class="desenho-toolbar">
    <div class="ferramentas-wrapper">

      <div class="tool-group">
  <label for="cor-pincel">Cor:</label>
<input type="color" id="cor-pincel" value="#000000">
</div>

      <div class="tool-group">
        <label for="tamanho-pincel">Tamanho:</label>
        <span id="valor-pincel">5</span>
        <input type="range" id="tamanho-pincel" min="1" max="50" value="5">
      </div>

      <div class="tool-group">
        <button id="pincel-btn" class="painel-btn ativo" title="Pincel">âœï¸</button>
        <button id="borracha-btn" class="painel-btn" title="Borracha">Borracha</button>
		<button id="conta-gotas-btn" class="painel-btn" title="Conta-gotas (Pegar Cor)">ğŸ’§</button>
      </div>

      <div class="tool-group">
        <button id="desfazer-btn" class="painel-btn" title="Desfazer">â†©ï¸</button>
        <button id="refazer-btn" class="painel-btn" title="Refazer">â†ªï¸</button>
      </div>

      <div class="tool-group">
        <button id="limpar-tela-btn" class="painel-btn btn-remover">Limpar Tudo</button>
      </div>

    </div>
    <button id="toggle-toolbar-btn" class="toggle-toolbar-btn">â¬‡ï¸</button>
  </div>

  <canvas id="tela-desenho-fullscreen"></canvas>
</div>

    <div class="medalha-info">
      <h2>ğŸ… Medalhas de Foco</h2>
      <div class="medalhas-grid">
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ”¥</div>
          <div class="medalha-nome">Fagulha</div>
          <div class="medalha-dias">3 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ‘‘</div>
          <div class="medalha-nome">Lenda</div>
          <div class="medalha-dias">10 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸŒŸ</div>
          <div class="medalha-nome">Constante</div>
          <div class="medalha-dias">30 dias</div>
        </div>
        <div class="medalha-item" id="medalha-diamante">
          <div class="medalha-emoji">ğŸ’</div>
          <div class="medalha-nome">Diamante</div>
          <div class="medalha-dias">60 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸš€</div>
          <div class="medalha-nome">Foguete</div>
          <div class="medalha-dias">120 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ†</div>
          <div class="medalha-nome">TrofÃ©u</div>
          <div class="medalha-dias">150 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸ”®</div>
          <div class="medalha-nome">Bola de cristal</div>
          <div class="medalha-dias">240 dias</div>
        </div>
        <div class="medalha-item">
          <div class="medalha-emoji">ğŸŒ</div>
          <div class="medalha-nome">Solar</div>
          <div class="medalha-dias">365 dias</div>
        </div>
		
		<div class="medalha-item">
       <div class="medalha-emoji">ğŸ‰</div>
       <div class="medalha-nome">MÃ­tico</div>
       <div class="medalha-dias">550 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸƒ</div>
       <div class="medalha-nome">Horripilante</div>
       <div class="medalha-dias">730 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸ’£</div>
       <div class="medalha-nome">Poder Destrutivo</div>
       <div class="medalha-dias">900 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸ˜‡</div>
       <div class="medalha-nome">Angelical</div>
       <div class="medalha-dias">1100 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">ğŸ’ </div>
       <div class="medalha-nome">Primordial</div>
       <div class="medalha-dias">1460 dias</div>
     </div>
     <div class="medalha-item">
       <div class="medalha-emoji">â™¾ï¸</div>
       <div class="medalha-nome">Eterno</div>
       <div class="medalha-dias">1825 dias</div>
     </div>
		
      </div>
    </div>
	
	<div id="secao-ociosos" class="vantagem-container hidden">
  <h2>ğŸ‘¥ Membros Ociosos da Semana</h2>
  <p class="vantagem-descricao" id="ociosos-descricao">
    A lista abaixo mostra os membros que focaram menos de 4 vezes nesta semana (de Segunda a SÃ¡bado).
  </p>
  <div id="lista-ociosos" class="ociosos-lista-container">
    <div class="ociosos-placeholder">Nenhum membro ocioso esta semana.</div>
  </div>
</div>

  </div>
  
  <div id="popup"></div>
  <canvas id="confetti-canvas"></canvas>
  
  <!-- Painel Secreto (adicionado no final do body) -->
  <div id="painel-secreto">
    <div class="painel-header">
      <h2>Painel de Controle Secreto</h2>
      <button class="painel-btn btn-fechar" onclick="togglePainelSecreto(false)">Fechar</button>
    </div>

<div class="painel-section">
  <h3>ğŸ—‘ï¸ Reset do Dia</h3>
  <button class="painel-btn btn-remover" style="width:100%" onclick="resetarDia()">Desmarcar Todos e Zerar o Dia</button>
  <p style="font-size:0.8rem; margin-top:10px; color:#e74c3c">
    ATENÃ‡ÃƒO: Esta aÃ§Ã£o irÃ¡ desmarcar todos os checkboxes do dia atual e zerar o contador de foco do dia. Os pontos semanais e streaks NÃƒO serÃ£o alterados.
  </p>
</div>

    <div class="painel-section">
      <h3>âš ï¸ Reset Geral</h3>
      <button class="painel-btn btn-remover" style="width:100%" onclick="resetarTudo()">Resetar Todos os Dados</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#e74c3c">
        ATENÃ‡ÃƒO: Esta aÃ§Ã£o apagarÃ¡ todo o histÃ³rico e nÃ£o pode ser desfeita!
      </p>
    </div>
  </div>

  <!-- Elementos de Ã¡udio -->
  <audio id="som-check" src="https://cdn.pixabay.com/audio/2025/07/04/audio_9dcd152e4d.mp3" preload="auto"></audio>
  <audio id="som-conquista" src="https://cdn.pixabay.com/audio/2025/04/23/audio_d131e87049.mp3" preload="auto"></audio>
  <audio id="som-envio" src="https://cdn.pixabay.com/audio/2024/08/20/audio_a95d316f28.mp3" preload="auto"></audio>
  <audio id="som-reacao" src="https://cdn.pixabay.com/audio/2025/07/09/audio_a9c21b6107.mp3" preload="auto"></audio>
  
  <!-- Elementos de Ã¡udio para jogo sequÃªncia de cores -->
  
  <audio id="simon-sound-0" src="https://cdn.pixabay.com/audio/2024/08/02/audio_783fe31424.mp3" preload="auto"></audio>
  <audio id="simon-sound-1" src="https://cdn.pixabay.com/audio/2022/05/10/audio_4c68c4facc.mp3" preload="auto"></audio>
  <audio id="simon-sound-2" src="https://cdn.pixabay.com/audio/2022/03/10/audio_ef129ff863.mp3" preload="auto"></audio>
  <audio id="simon-sound-3" src="https://cdn.pixabay.com/audio/2023/02/23/audio_be301496db.mp3" preload="auto"></audio>
  
  </div>
  
    <div id="popup-message" class="popup-container">
    <h3 id="popup-title"></h3>
    <p id="popup-text"></p>
  </div>
  
  <div id="change-password-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Trocar Senha</h3>
    <input type="password" id="logged-in-new-password" class="auth-input" placeholder="Nova senha">
    <input type="password" id="logged-in-confirm-password" class="auth-input" placeholder="Confirme a nova senha">
    <button id="save-new-password-btn" class="auth-btn">Salvar Nova Senha</button>
    <button class="btn-cancelar" onclick="closeModal('change-password-modal')">Cancelar</button>
  </div>
</div>

<div id="change-secret-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Trocar Pergunta Secreta</h3>
    <label for="new-secret-answer" style="display: block; text-align: left; margin-bottom: 10px;">
      Qual Ã© o nome do primeiro pet que vocÃª jÃ¡ teve (ou tem)?
    </label>
    <input type="text" id="new-secret-answer" class="auth-input" placeholder="Sua nova resposta">
    <button id="save-new-secret-btn" class="auth-btn">Salvar Nova Resposta</button>
    <button class="btn-cancelar" onclick="closeModal('change-secret-modal')">Cancelar</button>
  </div>
</div>
  
  <div id="change-folga-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>Alterar Dia de Folga</h3>
    <p style="margin-bottom: 20px; font-size: 0.9rem; color: #7f8c8d;">
      VocÃª sÃ³ pode alterar sua folga <strong>uma vez por semana</strong>. Domingo Ã© folga coletiva e nÃ£o pode ser selecionado.
    </p>
    <select id="select-new-folga" class="auth-input">
      <option value="segunda-feira">Segunda-feira</option>
      <option value="terÃ§a-feira">TerÃ§a-feira</option>
      <option value="quarta-feira">Quarta-feira</option>
      <option value="quinta-feira">Quinta-feira</option>
      <option value="sexta-feira">Sexta-feira</option>
      <option value="sÃ¡bado">SÃ¡bado</option>
    </select>
    <button id="save-new-folga-btn" class="auth-btn">Salvar AlteraÃ§Ã£o</button>
    <button class="btn-cancelar" onclick="closeModal('change-folga-modal')">Cancelar</button>
  </div>
</div>
  
<div id="message-composer-modal" class="modal-overlay">
  <div id="composer-card" class="composer-card">
    <div class="composer-header">
      <button id="composer-color-btn" title="Mudar cor do card">Escolha a cor</button>
      <div id="composer-color-palette" class="hidden"></div>
      <button id="composer-close-btn" title="Fechar">âœ–</button>
    </div>

    <div class="composer-toolbar">
        <button class="toolbar-btn" onclick="formatText('bold')" title="Negrito"><b>B</b></button>
        <button class="toolbar-btn" onclick="formatText('italic')" title="ItÃ¡lico"><i>I</i></button>
        <button class="toolbar-btn" onclick="formatText('underline')" title="Sublinhado"><u>U</u></button>
        <button class="toolbar-btn" onclick="formatText('justifyLeft')" title="Alinhar Ã  Esquerda">â˜°</button>
        <button class="toolbar-btn" onclick="formatText('justifyCenter')" title="Centralizar"><b>&#9776;</b></button>
        <button class="toolbar-btn" onclick="formatText('justifyRight')" title="Alinhar Ã  Direita"><b>&#9780;</b></button>
		
		<button id="open-oracle-assistant-btn" class="toolbar-btn" onclick="abrirAssistenteOraculo()" title="Assistente do OrÃ¡culo">ğŸ§™â€</button>
    </div>

    <div id="composer-textarea" class="auth-input" contenteditable="true" placeholder="O que vocÃª estÃ¡ pensando?"></div>

    <div class="composer-footer">
      <div class="composer-author-info">
        <div id="composer-author" class="mensagem-autor"></div>
        <div id="composer-timestamp" class="mensagem-data"></div>
      </div>
      <div class="composer-actions">
        <div class="anonymous-option">
          <input type="checkbox" id="composer-anonymous-check">
          <label for="composer-anonymous-check">Postar como AnÃ´nimo</label>
        </div>
        <button id="composer-send-btn">Enviar</button>
      </div>
    </div>
  </div>
</div>

<div id="message-viewer-modal" class="modal-overlay">
  <div id="viewer-card" class="composer-card">
    <div class="composer-header">
      <div class="viewer-info-wrapper">
        <div id="viewer-author" class="mensagem-autor"></div>
        <div id="viewer-timestamp" class="mensagem-data"></div>
      </div>
      <button id="viewer-close-btn" title="Fechar">âœ–</button>
    </div>
    
    <div id="viewer-text" class="mensagem-texto expanded"></div>

    <div id="viewer-reacoes-container" class="reacoes-display-container" style="display: none; margin-top: 15px;">
      </div>
    
    <div class="reacao-seletor-bar hidden" style="margin-top: 15px;">
      </div>

    <div class="composer-footer" style="margin-top: 15px;">
       </div>
  </div>
</div>

<div id="confirm-delete-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 400px;">
    <h3>Confirmar ExclusÃ£o</h3>
    <p style="margin-bottom: 25px;">VocÃª tem certeza que deseja excluir esta mensagem permanentemente?</p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-delete-modal')">Cancelar</button>
      <button id="confirm-delete-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Excluir</button>
    </div>
  </div>
</div>
  
<div id="control-panel-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px; width: 95%; max-height: 90vh; overflow-y: auto;">
    <div class="painel-header">
      <h2>Painel de Controle</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('control-panel-modal')">Fechar</button>
    </div>

    <div class="painel-section">
      <h3>Adicionar Novo Membro</h3>
      <div class="controle-pontos" style="grid-template-columns: 1fr 1fr 1fr auto; gap: 15px;">
        <input type="text" id="new-member-name" class="painel-input" placeholder="Nome do Membro">
        <select id="new-member-team" class="painel-input">
          <option value="abelha">Equipe Abelha</option>
          <option value="joaninha">Equipe Joaninha</option>
          <option value="vagalume">Equipe Vaga-lume</option>
        </select>
        <select id="new-member-role" class="painel-input">
          <option value="membro">Membro</option>
          <option value="lider-equipe">LÃ­der de Equipe</option>
        </select>
        <button id="add-member-btn" class="painel-btn btn-adicionar">Adicionar</button>
      </div>
      <div id="new-member-result" style="margin-top: 15px; font-weight: bold; color: #27ae60;"></div>
    </div>

    <div class="painel-section">
      <h3>Remover Membro</h3>
      <div class="controle-pontos" style="grid-template-columns: 1fr auto; gap: 15px;">
        <select id="select-member-to-remove" class="painel-input"></select>
        <button id="remove-member-btn" class="painel-btn btn-remover">Remover</button>
      </div>
    </div>
	
	<div class="painel-section">
  <h3>AÃ§Ãµes Semanais</h3>
  <div class="user-panel-actions">
    <button id="btn-abrir-avaliacao-lideres" class="user-panel-btn hidden" style="border-color: #f1c40f; color: #f1c40f;">
      ğŸ‘‘ AvaliaÃ§Ã£o Semanal de LÃ­deres
    </button>
    <button id="btn-abrir-recompensa-equipe" class="user-panel-btn hidden" style="border-color: #2ecc71; color: #2ecc71;">
      ğŸ† Recompensa da Equipe
    </button>
  </div>
</div>
	
	<div class="painel-section lider-geral-only">
  <h3>ğŸŒ´ Membros de FÃ©rias</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Marque os membros que estÃ£o de fÃ©rias. Eles nÃ£o poderÃ£o marcar o foco e nÃ£o serÃ£o contados na mÃ©dia de pontos da equipe durante a competiÃ§Ã£o.
  </p>
  <div id="ferias-lista-membros" class="ociosos-lista-container" style="max-height: 250px;">
    </div>
</div>
	
	<div class="painel-section lider-geral-only">
  <h3>ğŸ“Š Ajuste Manual de Pontos</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Adicione ou remova pontos de uma equipe. A aÃ§Ã£o serÃ¡ registrada no Resumo da Semana.
  </p>
  <div class="controle-pontos" style="grid-template-columns: 2fr 1fr auto auto; gap: 15px;">
    <select id="select-equipe-ajuste" class="painel-input">
      <option value="">Selecione uma equipe...</option>
      <option value="abelha">Equipe Abelha</option>
      <option value="joaninha">Equipe Joaninha</option>
      <option value="vagalume">Equipe Vaga-lume</option>
    </select>
    <input type="number" id="input-pontos-ajuste" class="painel-input" placeholder="Pontos">
    <button id="btn-adicionar-pontos" class="painel-btn btn-adicionar">Adicionar</button>
    <button id="btn-remover-pontos" class="painel-btn btn-remover">Remover</button>
  </div>
</div>
	
		<div class="painel-section lider-geral-only"> <h3>ğŸ² ForÃ§ar RecriaÃ§Ã£o do Quiz</h3>
  <button class="painel-btn btn-remover" style="width:100%; background-color: #f39c12;" onclick="forcarRegeracaoQuiz()">Recriar Quiz da Semana</button>
  <p style="font-size:0.8rem; margin-top:10px; color:#e67e22">
    Use isso se o quiz semanal apresentar algum erro ou se vocÃª alterou as informaÃ§Ãµes de um membro e quer que elas apareÃ§am nas perguntas.
  </p>
</div>

    <div class="painel-section lider-geral-only">
      <h3>ğŸ—‘ï¸ Limpar Resumo da Semana</h3>
      <button id="limpar-feed-btn" class="painel-btn btn-remover" style="width:100%">Apagar Todos os Eventos do Feed</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#c0392b;">
        <strong>AtenÃ§Ã£o:</strong> Esta aÃ§Ã£o apagarÃ¡ permanentemente todos os cards de eventos do "Resumo da Semana". Use caso a limpeza automÃ¡tica de segunda-feira falhe.
      </p>
    </div>

    <div class="painel-section lider-geral-only">
      <h3>ğŸ—‘ï¸ Limpar Mural de Mensagens</h3>
      <button id="limpar-mural-btn" class="painel-btn btn-remover" style="width:100%">Apagar Todas as Mensagens do Mural</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#c0392b;">
        <strong>AtenÃ§Ã£o:</strong> Esta aÃ§Ã£o apagarÃ¡ permanentemente todas as mensagens do mural. Use caso a limpeza automÃ¡tica de segunda-feira falhe.
      </p>
    </div>

    <div class="painel-section lider-geral-only">
      <h3>ğŸš€ ForÃ§ar AtualizaÃ§Ã£o de VersÃ£o</h3>
      <button id="trigger-update-btn" class="painel-btn btn-remover" style="width:100%; background-color: #f39c12;">Ativar Tela de AtualizaÃ§Ã£o para Todos</button>
      <p style="font-size:0.8rem; margin-top:10px; color:#e67e22;">
        Use isso apÃ³s fazer uma grande mudanÃ§a no cÃ³digo. Todos os membros serÃ£o forÃ§ados a atualizar a pÃ¡gina.
      </p>
    </div>
	<div class="painel-section lider-geral-only">
  <h3>ğŸ› ï¸ Modo de ManutenÃ§Ã£o</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Ative este modo para bloquear o acesso de todos os usuÃ¡rios enquanto vocÃª realiza testes ou atualizaÃ§Ãµes importantes.
  </p>
  <button id="toggle-maintenance-btn" class="painel-btn btn-remover" style="width:100%; background-color: #e67e22;">
    Ativar Modo de ManutenÃ§Ã£o
  </button>
</div>
    <div class="painel-section lider-geral-only">
      <h3>ğŸ”„ SincronizaÃ§Ã£o Global</h3>
      <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
        Use este botÃ£o se um membro foi adicionado/removido ou se a interface de alguÃ©m parece desatualizada. Isso forÃ§arÃ¡ a atualizaÃ§Ã£o da pÃ¡gina para todos os usuÃ¡rios online.
      </p>
      <button id="force-refresh-btn" class="painel-btn btn-adicionar" style="width:100%; background-color: #3498db;">ForÃ§ar AtualizaÃ§Ã£o para Todos</button>
    </div>
	
	<div class="painel-section lider-geral-only">
  <h3>ğŸ² Ordem dos Jogos da Vantagem</h3>
  <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
    Arraste os jogos para definir a ordem em que eles aparecerÃ£o nas prÃ³ximas semanas. O primeiro jogo da lista serÃ¡ o desta semana.
  </p>
  
  <ul id="game-order-list" class="game-order-list">
    </ul>

  <button id="save-game-order-btn" class="painel-btn btn-adicionar" style="width:100%; margin-top: 15px;">Salvar Nova Ordem</button>
</div>
	
  </div>
</div>
  
<div id="new-member-success-modal" class="modal-overlay">
  <div class="modal-content">
    <h3>âœ… Membro Adicionado com Sucesso!</h3>
    <p class="modal-description">
      A imagem abaixo contÃ©m os dados de login para o novo membro. Clique em "Download" para salvÃ¡-la e enviÃ¡-la.
    </p>
    
    <div id="generated-login-card-container" style="margin: 20px 0; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
      </div>

    <div style="display: flex; flex-direction: column; gap: 10px;">
      <button id="download-login-card-btn" class="auth-btn" style="background-color: #2ecc71;">Download da Imagem</button>
      <button class="btn-cancelar" onclick="closeModal('new-member-success-modal')">Fechar</button>
    </div>
  </div>
</div>

<div id="confirm-remove-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ Confirmar RemoÃ§Ã£o</h3>
    <p style="margin-bottom: 25px;">
      VocÃª tem certeza que deseja remover o membro <strong id="member-to-remove-name" style="color: #e74c3c;"></strong>?
      <br><br>
      Esta aÃ§Ã£o Ã© permanente e nÃ£o pode ser desfeita.
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-remove-modal')">Cancelar</button>
      <button id="confirm-remove-button" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Sim, Remover</button>
    </div>
  </div>
</div>
  
  <div id="reactors-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 400px;">
    <h3 id="reactors-modal-title">Reagiram com...</h3>
    <div id="reactors-modal-list" class="reactors-list">
      </div>
    <button id="remove-my-reaction-btn" class="auth-btn" style="display:none; margin-top: 20px; background-color: #e74c3c;">Remover minha reaÃ§Ã£o</button>
    <button class="btn-cancelar" style="margin-top: 15px;" onclick="closeModal('reactors-modal')">Fechar</button>
  </div>
</div>

<div id="placar-vantagem-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <h3>ğŸ† Placar do Jogo da Vantagem</h3>
    <p class="modal-description">
      A ordem mostra quem finalizou o desafio primeiro. ParabÃ©ns aos mais rÃ¡pidos!
    </p>

    <div class="placar-content-wrapper">
      <div class="placar-section">
        <h4>âœ… Finalizaram o Jogo:</h4>
        <div id="placar-completos" class="placar-lista">
        </div>
      </div>

      <div class="placar-section">
        <h4>ğŸ¤” Ainda Faltam:</h4>
        <div id="placar-pendentes" class="placar-lista pendentes">
        </div>
      </div>
    </div>
    <button class="btn-cancelar" style="margin-top: 25px;" onclick="closeModal('placar-vantagem-modal')">Fechar</button>
  </div>
</div>
  
  <div id="confirm-expel-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ Confirmar ExpulsÃ£o</h3>
    <p class="modal-description">
      VocÃª tem certeza que deseja <strong>expulsar permanentemente</strong> o membro <strong id="member-to-expel-name" style="color: #e74c3c;"></strong>?
      <br><br>
      Toda a sua pontuaÃ§Ã£o, streaks e dados serÃ£o apagados. <strong>Esta aÃ§Ã£o nÃ£o pode ser desfeita.</strong>
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-expel-modal')">Cancelar</button>
      <button id="confirm-expel-button" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Sim, Expulsar</button>
    </div>
  </div>
</div>

<div id="confirm-clear-canvas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ Confirmar Limpeza</h3>
    <p id="confirm-clear-canvas-text" class="modal-description" style="margin-bottom: 25px;">
      VocÃª tem certeza que deseja apagar permanentemente todo o desenho desta tela?
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-clear-canvas-modal')">Cancelar</button>
      <button id="confirm-clear-canvas-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Sim, Limpar Tudo</button>
    </div>
  </div>
</div>
  
  <div id="update-overlay" class="update-overlay hidden">
  <div class="update-box">
    <div class="update-icon">ğŸ”„</div>
    <h2>AtualizaÃ§Ã£o DisponÃ­vel</h2>
    <p>
      Foram implemenadas melhorias importantes na pÃ¡gina! Para continuar, por favor, clique no botÃ£o abaixo para carregar a versÃ£o mais recente.
    </p>
    <button id="perform-update-btn" class="update-btn">Fazer AtualizaÃ§Ã£o Agora</button>
  </div>
</div>
  
  <div id="custom-card-popup" class="card-popup-overlay">
  <div class="card-popup-content">
    <h2 id="card-popup-title" class="card-popup-title"></h2>
    <p id="card-popup-message" class="card-popup-message"></p>
	<p class="card-popup-signature">â€” Grupo Ã‰picos</p>
    <button id="card-popup-close-btn" class="card-popup-close-btn">Entendido!</button>
  </div>
</div>
  
  <div id="loja-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 90%; width: 1200px; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸª Loja do CondomÃ­nio</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('loja-modal')">Fechar</button>
    </div>
    
    <div id="loja-conteudo" class="ociosos-lista-container">
        <div class="painel-section">
          <h3>ğŸ¡ Casas Pequenas</h3>
          <div id="catalogo-pequenas" class="catalogo-grid"></div>
        </div>
        <div class="painel-section">
          <h3>ğŸ  Casas MÃ©dias</h3>
          <div id="catalogo-medias" class="catalogo-grid"></div>
        </div>
        <div class="painel-section">
          <h3>ğŸ° MansÃµes</h3>
          <div id="catalogo-mansoes" class="catalogo-grid"></div>
        </div>
    </div>
  </div>
</div>

<div id="condominio-view-overlay" class="secao-fullscreen hidden">
  <button class="botao-fechar-secao" onclick="document.getElementById('condominio-view-overlay').classList.add('hidden')">X</button>
  
  <button id="find-my-house-btn" class="botao-info" onclick="findMyHouse()">
    ğŸ  Encontrar minha casa
  </button>
  
  <div id="condominio-map-wrapper">
    <div id="condominio-map">
        </div>
  </div>
</div>
  
  <div id="inventario-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 90%; width: 1200px; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ’ Meu InventÃ¡rio de Casas</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('inventario-modal')">Fechar</button>
    </div>

    <p class="modal-description" style="text-align: center;">Aqui estÃ£o todas as casas que vocÃª jÃ¡ comprou. Clique em uma para defini-la como sua casa principal no condomÃ­nio.</p>

    <div id="inventario-conteudo" class="ociosos-lista-container">
        <div id="inventario-grid" class="catalogo-grid">
          </div>
    </div>
  </div>
</div>

<div id="info-moedas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ’° Como Ganhar Moedas Ã‰picas</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('info-moedas-modal')">Fechar</button>
    </div>

    <div class="ociosos-lista-container" style="padding-right: 10px;">
      <p class="modal-description" style="text-align: center;">
        As moedas sÃ£o usadas para comprar casas e outros itens no CondomÃ­nio Ã‰picos. Participe das atividades do grupo para acumular sua fortuna!
      </p>
      
      <div class="painel-section">
        <h3>âœ… Foco DiÃ¡rio</h3>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward">
              <span class="reward-value" id="reward-focoDiario">100</span> Moedas
              <button class="edit-reward-btn hidden" data-key="focoDiario">âœï¸</button>
            </div>
            <div class="description">Ao marcar seu foco do dia na lista de presenÃ§a.</div>
          </li>
        </ul>
      </div>

      <div class="painel-section">
        <h3>ğŸ† Top 5 do Dia (Foco)</h3>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‡ 1Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_1">25</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_1">âœï¸</button></div>
            <div class="description">Por ficar um dia em 1Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥ˆ 2Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_2">20</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_2">âœï¸</button></div>
            <div class="description">Por ficar um dia em 2Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‰ 3Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_3">15</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_3">âœï¸</button></div>
            <div class="description">Por ficar um dia em 3Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 4Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_4">10</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_4">âœï¸</button></div>
            <div class="description">Por ficar um dia em 4Âº lugar.</div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 5Âº Lugar:</span> <span class="reward-value" id="reward-top5Diario_5">5</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Diario_5">âœï¸</button></div>
            <div class="description">Por ficar um dia em 5Âº lugar.</div>
          </li>
        </ul>
      </div>
      
      <div class="painel-section">
          <h3>âœï¸ InteraÃ§Ã£o Social</h3>
          <ul class="reward-list">
            <li class="reward-item">
              <div class="reward"><span class="reward-value" id="reward-postarMural">5</span> Moedas <button class="edit-reward-btn hidden" data-key="postarMural">âœï¸</button></div>
              <div class="description">Ao publicar uma nova mensagem no Mural.</div>
            </li>
            <li class="reward-item">
              <div class="reward"><span class="reward-value" id="reward-reagirConteudo">1</span> Moedas <button class="edit-reward-btn hidden" data-key="reagirConteudo">âœï¸</button></div>
              <div class="description">Ao reagir a uma mensagem no Mural ou a um evento no Resumo da Semana.</div>
            </li>
          </ul>
      </div>

      <div class="painel-section">
        <h3>ğŸ® Jogo da Vantagem</h3>
         <ul class="reward-list">
            <li class="reward-item">
              <div class="reward"><span class="reward-value" id="reward-vitoriaJogoVantagem">50</span> Moedas <button class="edit-reward-btn hidden" data-key="vitoriaJogoVantagem">âœï¸</button></div>
              <div class="description">Por completar o desafio da semana.</div>
            </li>
        </ul>
        <p class="reward-list-subtitle">AlÃ©m disso, os 5 mais rÃ¡pidos da semana recebem um bÃ´nus no domingo:</p>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‡ 1Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_1">50</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_1">âœï¸</button></div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥ˆ 2Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_2">40</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_2">âœï¸</button></div>
          </li>
          <li class="reward-item">
            <div class="reward"><span class="reward-rank">ğŸ¥‰ 3Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_3">30</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_3">âœï¸</button></div>
          </li>
           <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 4Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_4">20</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_4">âœï¸</button></div>
           </li>
           <li class="reward-item">
            <div class="reward"><span class="reward-rank">â­ 5Âº Lugar:</span> <span class="reward-value" id="reward-top5Vantagem_5">10</span> Moedas <button class="edit-reward-btn hidden" data-key="top5Vantagem_5">âœï¸</button></div>
           </li>
        </ul>
      </div>
	  
	   <div class="painel-section">
        <h3>ğŸ† VitÃ³ria Semanal da Equipe</h3>
        <ul class="reward-list">
          <li class="reward-item">
            <div class="reward">
              <span class="reward-value" id="reward-vitoriaSemanal">500</span> Moedas
              <button class="edit-reward-btn hidden" data-key="vitoriaSemanal">âœï¸</button>
            </div>
            <div class="description">Cada membro da equipe vencedora da semana recebe este prÃªmio no domingo.</div>
          </li>
        </ul>
      </div>

    </div>
  </div>
</div>
  
  <div id="confirm-compra-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>Confirmar Compra</h3>
    <p id="confirm-compra-texto" class="modal-description" style="margin-bottom: 25px;">
      VocÃª tem certeza?
    </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-compra-modal')">Cancelar</button>
      <button id="confirm-compra-btn" class="auth-btn" style="flex: 1; background-color: #2ecc71;">Sim, Comprar</button>
    </div>
  </div>
</div>

<div id="ranking-imobiliario-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 900px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ† Ranking ImobiliÃ¡rio</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('ranking-imobiliario-modal')">Fechar</button>
    </div>

    <div class="ranking-imobiliario-wrapper">
      <div class="ranking-imobiliario-secao">
        <h4>ğŸ¥‡ Mais Casas</h4>
        <div id="ranking-mais-casas-lista" class="ranking-imobiliario-lista">
          <p>Carregando ranking...</p>
        </div>
      </div>

      <div class="ranking-imobiliario-secao">
        <h4>ğŸ’° Maior Valor de Mercado</h4>
        <div id="ranking-maior-valor-lista" class="ranking-imobiliario-lista">
          <p>Carregando ranking...</p>
        </div>
      </div>
    </div>
  </div>
</div>
  
  <div id="user-panel-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
  <div class="painel-header">
    <h2>Painel do UsuÃ¡rio</h2>
  </div>

  <p class="modal-description">Gerencie as configuraÃ§Ãµes da sua conta.</p>
  <button class="painel-btn btn-fechar" onclick="closeModal('user-panel-modal')">Fechar</button>

  <div class="user-panel-actions">
  <button id="btn-abrir-painel-controle" class="user-panel-btn admin hidden">
    ğŸ‘‘ Painel de Controle
  </button>
  
  <button id="btn-abrir-gerador-codigo" class="user-panel-btn admin hidden" style="border-color: #2ecc71; color: #2ecc71;">
    ğŸ’ Gerador de CÃ³digos
  </button>
  
  <button id="btn-abrir-add-avatar-item" class="user-panel-btn admin hidden" style="border-color: #2ecc71; color: #2ecc71;">
  ğŸ–¼ï¸ Adicionar Item na Loja de Avatar
</button>

  <button class="user-panel-btn" onclick="openModal('change-password-modal'); closeModal('user-panel-modal');">
    ğŸ”‘ Alterar minha Senha
  </button>
  <button class="user-panel-btn" onclick="openModal('change-secret-modal'); closeModal('user-panel-modal');">
    ğŸ›¡ï¸ Alterar Pergunta Secreta
  </button>
  <button id="btn-logout-panel" class="user-panel-btn logout">
    ğŸšª Sair
  </button>
</div>
  </div>
</div>
  
  <div id="code-generator-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <div class="painel-header">
      <h2>Gerador de CÃ³digos Secretos</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('code-generator-modal')">Fechar</button>
    </div>
    <p class="modal-description">
      Defina um valor de moedas e clique em "Gerar" para criar um cÃ³digo Ãºnico. Compartilhe o cÃ³digo com o membro que vocÃª deseja recompensar.
    </p>

    <div class="painel-section">
      <h3>Gerar CÃ³digo Ãšnico</h3>
      <div class="controle-pontos" style="grid-template-columns: 1fr auto; gap: 15px;">
        <input type="number" id="code-coin-value" class="painel-input" placeholder="Valor em moedas (ex: 500)">
        <button id="generate-code-btn" class="painel-btn btn-adicionar">Gerar</button>
      </div>
      <div style="margin-top: 15px; text-align: left;">
        <input type="checkbox" id="code-restrict-leaders-single" style="margin-right: 8px;">
        <label for="code-restrict-leaders-single">LÃ­deres de equipe nÃ£o podem resgatar este cÃ³digo.</label>
      </div>
    </div>

    <div id="generated-code-result" class="painel-section hidden">
      <h3>CÃ³digo Gerado:</h3>
      <div class="copy-field">
        <span id="generated-code-display"></span>
        <button onclick="copyToClipboard(document.getElementById('generated-code-display').innerText, 'CÃ³digo')">Copiar</button>
      </div>
    </div>

    <div class="painel-section">
      <h3>Gerar CÃ³digos em Lote</h3>
      <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">
        Gere mÃºltiplos cÃ³digos com o mesmo valor. Cada membro sÃ³ poderÃ¡ resgatar <strong>um</strong> cÃ³digo de cada lote gerado.
      </p>
      <div class="controle-pontos" style="grid-template-columns: 1fr 1fr auto; gap: 15px;">
        <input type="number" id="batch-code-quantity" class="painel-input" placeholder="Quantidade">
        <input type="number" id="batch-code-value" class="painel-input" placeholder="Valor (cada)">
        <button id="generate-batch-code-btn" class="painel-btn btn-adicionar">Gerar Lote</button>
      </div>
      <div style="margin-top: 15px; text-align: left;">
        <input type="checkbox" id="code-restrict-leaders-batch" style="margin-right: 8px;">
        <label for="code-restrict-leaders-batch">LÃ­deres de equipe nÃ£o podem resgatar este lote.</label>
      </div>
    </div>

    <div id="generated-batch-result" class="painel-section hidden">
      <h3>Lote de CÃ³digos Gerado:</h3>
      <textarea id="batch-codes-result-display" class="painel-input" rows="8" readonly style="margin-bottom: 10px;"></textarea>
      <button class="painel-btn btn-adicionar" style="width:100%" onclick="copyToClipboard(document.getElementById('batch-codes-result-display').value, 'CÃ³digos')">
        Copiar Todos os CÃ³digos
      </button>
    </div>
  </div>
</div>
</div>
  
  <div id="resumo-competicao-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ† Resultado da CompetiÃ§Ã£o</h2>
      <button id="resumo-competicao-close-btn" class="painel-btn btn-fechar">Fechar</button>
    </div>

    <div id="resumo-competicao-ranking" style="margin-top: 15px; font-size: 1.1rem; text-align: center;">
      </div>
    
    <p class="modal-description" style="text-align: center; margin: 15px 0;">
      Confira abaixo a pontuaÃ§Ã£o detalhada de cada membro na semana que passou.
    </p>

    <div id="resumo-competicao-body" class="ociosos-lista-container" style="padding-right: 15px;">
      </div>
  </div>
</div>

<div id="lista-aniversarios-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ‚ Lista de AniversÃ¡rios</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('lista-aniversarios-modal')">Fechar</button>
    </div>
    <p class="modal-description" style="text-align: center;">
      Veja a data de aniversÃ¡rio de todos os membros. VocÃª pode alterar a sua data apenas uma vez.
    </p>
    <div id="lista-completa-aniversarios-container" class="ociosos-lista-container">
      </div>
  </div>
</div>

<div id="confirm-aniversario-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>âš ï¸ ConfirmaÃ§Ã£o NecessÃ¡ria</h3>
    <p id="confirm-aniversario-texto" class="modal-description" style="margin-bottom: 25px;">
      </p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-aniversario-modal')">Cancelar</button>
      <button id="confirm-aniversario-btn" class="auth-btn" style="flex: 1; background-color: #2ecc71;">Sim, Confirmar</button>
    </div>
  </div>
</div>
  
  <div id="notificacoes-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 600px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ“® Suas NotificaÃ§Ãµes</h2>
      <button class="painel-btn btn-fechar" onclick="fecharEApagarNotificacoes()">Fechar</button>
    </div>

    <p class="modal-description" style="text-align: center;">
      Aqui estÃ£o as reaÃ§Ãµes mais recentes nas suas postagens e eventos.
    </p>

    <div id="notificacoes-lista" class="ociosos-lista-container" style="padding-right: 15px;">
      <div class="ociosos-placeholder">Nenhuma notificaÃ§Ã£o nova.</div>
    </div>
  </div>
</div>

<div id="comments-modal" class="modal-overlay">
  <div id="comments-card" class="composer-card" style="height: auto; max-height: 85vh; width: 90%; max-width: 550px;">
    
    <div class="composer-header" style="justify-content: space-between; width: 100%;">
      <h3 id="comments-modal-title" style="margin: 0;">ComentÃ¡rios</h3>
      <button class="close-modal-btn" onclick="closeModal('comments-modal')" title="Fechar">âœ–</button>
    </div>

    <div id="comments-list-container" class="comments-container" style="border-top: 1px solid rgba(0,0,0,0.1); margin-top: 15px; flex-grow: 1; overflow-y: auto;">
      <div id="comments-list" class="comments-list">
        </div>
    </div>

    <div class="comment-input-area" style="margin-top: 15px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 15px;">
    <div id="comment-textarea-modal" class="auth-input" contenteditable="true" placeholder="Adicionar um comentÃ¡rio..."></div>
      <button id="send-comment-btn-modal" title="Enviar ComentÃ¡rio">â¤</button>
    </div>

  </div>
</div>

<div id="edit-comment-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <h3>Editar ComentÃ¡rio</h3>
    <textarea id="edit-comment-textarea" class="painel-input" rows="5" style="margin-bottom: 15px;"></textarea>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('edit-comment-modal')">Cancelar</button>
      <button id="save-edit-comment-btn" class="auth-btn" style="flex: 1;">Salvar AlteraÃ§Ãµes</button>
    </div>
  </div>
</div>

<div id="confirm-delete-comment-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 400px;">
    <h3>Confirmar ExclusÃ£o</h3>
    <p style="margin-bottom: 25px;">VocÃª tem certeza que deseja excluir este comentÃ¡rio permanentemente?</p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-delete-comment-modal')">Cancelar</button>
      <button id="confirm-delete-comment-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Excluir</button>
    </div>
  </div>
</div>
  
  <div id="global-options-menu" class="hidden"></div>
  
<div id="avatar-editor-modal" class="modal-overlay">
  <div id="avatar-editor-content" class="modal-content">
    <div class="painel-header">
      <h2>Meu Avatar</h2>
      <button class="painel-btn btn-fechar" onclick="window.tentarFecharEditorAvatar()">Fechar</button>
    </div>
    
    <div class="avatar-main-layout">
      <div class="avatar-preview-coluna">
        <div id="avatar-preview-editor" class="avatar-preview-container">
          </div>
        <div class="avatar-preview-actions">
          <button id="avatar-save-btn" class="auth-btn">Salvar AlteraÃ§Ãµes</button>
          <button id="avatar-gallery-btn" class="user-panel-btn btn-chamativo">Ver Avatares dos Ã‰picos</button>
        </div>
      </div>

      <div class="avatar-itens-coluna">
        <div class="avatar-tabs">
          <button class="avatar-tab-btn ativo" data-tab="inventario">Meu InventÃ¡rio</button>
          <button class="avatar-tab-btn" data-tab="loja">Loja de Itens</button>
        </div>

        <div id="avatar-tab-inventario" class="avatar-tab-content ativo">
          <div class="avatar-category-tabs-container" id="inventario-category-tabs">
            </div>
          <div class="avatar-category-content-container" id="inventario-category-content">
            </div>
        </div>

        <div id="avatar-tab-loja" class="avatar-tab-content">
          <div class="avatar-category-tabs-container" id="loja-category-tabs">
            </div>
          <div class="avatar-category-content-container" id="loja-category-content">
            </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="item-variations-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 700px;">
      <h3 id="variations-item-name">VariaÃ§Ãµes de Cor</h3>
      <p id="variations-item-description" class="modal-description hidden"></p> 
      <div id="variations-grid" class="variations-grid-container">
          </div>
      <button class="btn-cancelar" style="margin-top: 20px;" onclick="closeModal('item-variations-modal')">Voltar</button>
  </div>
</div>

<div id="avatar-gallery-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 90%; width: 1200px; max-height: 90vh;">
    <div class="painel-header">
      <h2>Avatares</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('avatar-gallery-modal')">Fechar</button>
    </div>
    <div id="gallery-grid-container" class="gallery-grid">
      </div>
  </div>
</div>

<div id="confirm-avatar-purchase-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3>Confirmar Compra</h3>
    <p id="confirm-purchase-text" class="modal-description"></p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-avatar-purchase-modal')">Cancelar</button>
      <button id="confirm-purchase-btn" class="auth-btn" style="flex: 1; background-color: #2ecc71;">Sim, Comprar</button>
    </div>
  </div>
</div>

<div id="confirm-action-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <h3 id="confirm-action-title"></h3>
    <p id="confirm-action-text" class="modal-description" style="margin-bottom: 25px;"></p>
    <div style="display: flex; justify-content: space-around; gap: 15px;">
      <button class="btn-cancelar" style="flex: 1;" onclick="closeModal('confirm-action-modal')">Cancelar</button>
      <button id="confirm-action-btn" class="auth-btn" style="flex: 1; background-color: #e74c3c;">Confirmar</button>
    </div>
  </div>
</div>

<div id="avatar-viewer-modal" class="modal-overlay">
  <div class="modal-content" style="background-color: transparent; box-shadow: none; padding: 0;">
    <button class="close-modal-btn" onclick="closeModal('avatar-viewer-modal')" style="z-index: 10001;">âœ–</button>
    <div id="avatar-viewer-card">
      <div id="avatar-viewer-container">
        </div>
      <h3 id="avatar-viewer-nome"></h3>
    </div>
  </div>
</div>

<div id="editor-avatar-viewer-modal" class="modal-overlay">
  <div class="modal-content" style="background-color: transparent; box-shadow: none; padding: 0;">
    <button class="close-modal-btn" onclick="closeModal('editor-avatar-viewer-modal')">âœ–</button>
    <div id="avatar-viewer-card">
      <div id="editor-avatar-viewer-container" class="avatar-container-pessoal" style="width: 400px; height: 400px; cursor: default; border-width: 6px;">
        </div>
    </div>
  </div>
</div>

<div id="lupa-conta-gotas" class="hidden">
  <div id="lupa-cor-preview"></div>
  <div class="lupa-reticulo-h"></div>
  <div class="lupa-reticulo-v"></div>
</div>

<div id="add-avatar-item-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 800px; width: 95%; max-height: 90vh; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2>ğŸ–¼ï¸ Adicionar Novo Item Ã  Loja</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('add-avatar-item-modal')">Fechar</button>
    </div>

    <div class="ociosos-lista-container" style="padding-right: 15px;">
      
      <div class="painel-section">
        <h3>InformaÃ§Ãµes Gerais do Item</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; align-items: center;">
          <input type="text" id="add-item-nome" class="painel-input" placeholder="Nome do Item (Ex: Camiseta BÃ¡sica)">
          
          <select id="add-item-categoria" class="painel-input">
            <option value="">Selecione a Categoria...</option>
            <option value="corpo">Tons de Pele</option>
            <option value="rosto">ExpressÃµes</option>
            <option value="cabelo">Cabelos</option>
            <option value="roupa">Roupas</option>
            <option value="acessorio">AcessÃ³rios</option>
            <option value="enfeite_de_parede">Itens Raros e Exclusivos</option>
            <option value="fundo">Fundos</option>
          </select>

          <div id="add-item-subcategoria-container" class="hidden">
            <select id="add-item-subcategoria" class="painel-input">
              <option value="">Selecione a Subcategoria...</option>
              <option value="chapeu">ChapÃ©u</option>
              <option value="oculos">Ã“culos</option>
              <option value="colar">Colar</option>
              <option value="bolsa">Bolsa</option>
              <option value="outros">Outros</option>
            </select>
          </div>
          <div style="display: flex; align-items: center; gap: 10px;">
            <input type="checkbox" id="add-item-raro" style="width: 20px; height: 20px;">
            <label for="add-item-raro">Este item Ã© raro/exclusivo?</label>
          </div>
        </div>
        
        <div id="add-item-raro-descricao-container" class="hidden" style="margin-top: 15px;">
          <textarea id="add-item-raro-descricao" class="painel-input" rows="3" placeholder="Descreva a condiÃ§Ã£o para obter este item (Ex: Apenas para lÃ­deres, recompensa de evento, etc.)"></textarea>
        </div>
      </div>
      
      <div id="add-item-membros-permitidos-container" class="hidden" style="margin-top: 15px;">
        <h4 style="margin-bottom: 10px; text-align: left;">Membros com PermissÃ£o para Comprar:</h4>
        <div id="add-item-membros-lista" style="max-height: 200px; overflow-y: auto; background: rgba(0,0,0,0.05); border-radius: 8px; padding: 10px; text-align: left;">
          </div>
      </div>

      <div class="painel-section">
        <h3>VariaÃ§Ãµes de Cor e PreÃ§o</h3>
        <p style="font-size:0.9rem; margin-bottom:15px; color:#555;">Adicione pelo menos uma variaÃ§Ã£o para o item. VocÃª pode adicionar quantas cores quiser.</p>
        
        <div id="add-item-variations-container" style="display: flex; flex-direction: column; gap: 15px;">
          </div>

        <button class="painel-btn btn-adicionar" style="width:100%; margin-top: 20px;" onclick="adicionarCampoVariacao()">+ Adicionar VariaÃ§Ã£o de Cor</button>
      </div>

    </div>
    
    <button id="save-new-avatar-item-btn" class="auth-btn" style="margin-top: 25px; background-color: #2ecc71;">Salvar Novo Item na Loja</button>
  </div>
</div>

<div id="envio-moedas-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <div class="painel-header">
      <h2>ğŸ Envio de Moedas DiÃ¡rias</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('envio-moedas-modal')">Fechar</button>
    </div>
    <p class="modal-description" style="text-align: center;">
      Envie 500 moedas para seus colegas de equipe como um presente diÃ¡rio! Esta aÃ§Ã£o Ã© gratuita e nÃ£o desconta moedas de vocÃª. VocÃª pode enviar para cada colega uma vez por dia.
    </p>
    <div id="envio-moedas-lista" class="ociosos-lista-container" style="max-height: 250px; text-align: left; padding: 10px;">
      </div>
    <button id="enviar-moedas-btn" class="auth-btn" style="margin-top: 25px; background-color: #2ecc71;">Enviar Moedas</button>
  </div>
</div>

<div id="popup-envio-diario-moedas" class="modal-overlay">
  <div class="card-popup-content">
    <h2 class="card-popup-title">ğŸ Presente DiÃ¡rio da Equipe!</h2>
    <p class="card-popup-message">
      Envie 500 moedas para seus colegas de equipe como um presente diÃ¡rio! Esta aÃ§Ã£o Ã© gratuita e nÃ£o desconta moedas de vocÃª. VocÃª pode enviar para cada colega uma vez por dia.
    </p>
    <div id="envio-moedas-lista-popup" class="ociosos-lista-container" style="max-height: 200px; text-align: left; padding: 10px;">
      </div>
    <button id="enviar-moedas-popup-btn" class="card-popup-close-btn" style="margin-top: 20px; background-color: #2ecc71;">Enviar Presente</button>
  </div>
</div>

<div id="avatar-try-on-modal" class="modal-overlay">
  <div class="modal-content" style="background-color: transparent; box-shadow: none; padding: 0;">
    <button class="close-modal-btn" onclick="closeModal('avatar-try-on-modal')">âœ–</button>
    <div id="avatar-viewer-card">
      <div id="avatar-try-on-container" class="avatar-container-pessoal" style="width: 400px; height: 400px; cursor: default; border-width: 6px;">
        </div>
      <h3 id="avatar-try-on-nome" style="color: white; text-shadow: 0 2px 5px rgba(0,0,0,0.6);">PrÃ©-visualizaÃ§Ã£o</h3>
    </div>
  </div>
</div>

<div id="recompensa-equipe-modal" class="modal-overlay">
  <div class="card-popup-content">
    <h2 class="card-popup-title">ğŸ† Recompensa Semanal da Equipe!</h2>
    <p class="card-popup-message">
      ReconheÃ§a o esforÃ§o e a dedicaÃ§Ã£o dos membros da sua equipe nesta semana. Selecione quem vocÃª acredita que merece receber um bÃ´nus de <strong>5.000 moedas</strong>.
    </p>
    <div id="recompensa-equipe-lista" class="ociosos-lista-container" style="max-height: 250px; text-align: left; padding: 10px;">
      </div>
    <button id="enviar-recompensa-equipe-btn" class="card-popup-close-btn" style="margin-top: 20px; background-color: #2ecc71;">Enviar Recompensas</button>
  </div>
</div>

<div id="recompensa-lideres-modal" class="modal-overlay">
  <div class="card-popup-content">
    <h2 class="card-popup-title">ğŸ‘‘ AvaliaÃ§Ã£o de LideranÃ§a</h2>
    <p class="card-popup-message">
      Avalie a performance dos LÃ­deres de Equipe nesta semana. Os lÃ­deres selecionados receberÃ£o <strong>100.000 moedas</strong> e poderÃ£o recompensar suas equipes amanhÃ£. Os nÃ£o selecionados receberÃ£o <strong>10.000 moedas</strong>.
    </p>
    <div id="recompensa-lideres-lista" class="ociosos-lista-container" style="max-height: 250px; text-align: left; padding: 10px;">
      </div>
    <button id="enviar-recompensa-lideres-btn" class="card-popup-close-btn" style="margin-top: 20px; background-color: #3498db;">Salvar AvaliaÃ§Ã£o para Domingo</button>
  </div>
</div>

<div id="autores-desenho-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <div class="painel-header">
      <h2 id="autores-modal-titulo">Autores do Desenho</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('autores-desenho-modal')">Fechar</button>
    </div>
    <div id="autores-lista-container" class="ociosos-lista-container" style="max-height: 300px; padding: 10px; text-align: left;">
      </div>
  </div>
</div>

<div id="avaliadores-desenho-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 500px;">
    <div class="painel-header">
      <h2 id="avaliadores-modal-titulo">Membros que Avaliaram</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('avaliadores-desenho-modal')">Fechar</button>
    </div>
    <div id="avaliadores-lista-container" class="ociosos-lista-container" style="max-height: 300px; padding: 10px; text-align: left;">
      </div>
  </div>
</div>
  
  <div id="oracle-assistant-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px;">
    <div class="painel-header">
      <h2>ğŸ§™â€ Assistente do OrÃ¡culo</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('oracle-assistant-modal')">Fechar</button>
    </div>
    <p class="modal-description">
      PeÃ§a ajuda ao OrÃ¡culo para aprimorar sua mensagem. A aÃ§Ã£o serÃ¡ aplicada ao texto que vocÃª jÃ¡ escreveu.
    </p>
    <div class="user-panel-actions">
      <button class="user-panel-btn" onclick="executarAcaoAssistenteIA('sugerir')">
        ğŸ’¡ Sugerir continuaÃ§Ã£o
      </button>
      <button class="user-panel-btn" onclick="executarAcaoAssistenteIA('resumir')">
        ğŸ“œ Resumir texto
      </button>
      <button class="user-panel-btn" onclick="executarAcaoAssistenteIA('corrigir')">
        âœï¸ Corrigir ortografia e gramÃ¡tica
      </button>
      <button class="user-panel-btn" onclick="executarAcaoAssistenteIA('tonalizar')">
        ğŸ­ Mudar o tom para algo mais... SÃ¡bio
      </button>
    </div>
  </div>
</div>

<div id="loading-overlay" class="loading-overlay hidden">
  <div class="loading-content">
    <div class="battery-container">
      <div class="battery-level"></div>
      <div class="battery-cap"></div>
    </div>
    <p id="loading-text">Aguarde um instante...</p>
  </div>
</div>

<div id="oracle-progress-overlay" class="loading-overlay hidden">
  <div class="update-box" style="border: 3px solid #9b59b6;">
    <div class="update-icon">ğŸ§™â€</div>
    <h2>O OrÃ¡culo Quer se Comunicar</h2>
    <p>
      Aguarde um instante enquanto as mensagens e notificaÃ§Ãµes pessoais sÃ£o preparadas para os membros. Este processo Ã© essencial para garantir a melhor experiÃªncia do nosso grupo.
    </p>
    <div id="oracle-status-text" style="font-weight: bold; margin-bottom: 15px;">Iniciando...</div>
    <div class="progresso-container" style="height: 25px;">
      <div id="oracle-progress-bar" style="background: #9b59b6; height: 100%; width: 0%; border-radius: 10px; transition: width 0.5s ease;"></div>
    </div>
  </div>
</div>

<div id="notification-prompt-popup" class="card-popup-overlay">
  <div class="card-popup-content">
    <h2 id="notification-prompt-title" class="card-popup-title">VocÃª tem notificaÃ§Ãµes nÃ£o lidas</h2>
    <div id="notification-prompt-message" class="card-popup-message">
      <p><span id="notification-prompt-username"></span>, vocÃª tem algumas notificaÃ§Ãµes na sua caixa de entrada que ainda nÃ£o foram lidas. HÃ¡ mensagens dos seguintes remetentes:</p>
      <div id="notification-senders-list" style="margin-top: 15px; text-align: center; font-size: 1.2rem; line-height: 1.8;">
        </div>
    </div>
    <button id="notification-prompt-check-btn" class="card-popup-close-btn">Conferir</button>
  </div>
</div>

<div id="pointing-hand-indicator" style="display: none; position: fixed; font-size: 3rem; z-index: 10002; pointer-events: none; transform: rotate(90deg); text-shadow: 0 4px 8px rgba(0,0,0,0.4);">
  ğŸ‘†
</div>

<div id="mention-suggestions-popup" class="hidden">
  </div>
  
  <div id="medalha-info-modal" class="modal-overlay">
  <div class="modal-content" style="max-width: 450px; display: flex; flex-direction: column;">
    <div class="painel-header">
      <h2 id="modal-medalha-nome">Nome da Medalha</h2>
      <button class="painel-btn btn-fechar" onclick="closeModal('medalha-info-modal')">Fechar</button>
    </div>
    <div class="modal-scrollable-content" style="flex-grow: 1; overflow-y: auto; padding: 5px;">
      <div style="text-align: center; margin: 20px 0;">
        <img id="modal-medalha-img" src="" alt="Medalha" style="width: 150px; height: 150px; object-fit: contain; margin-bottom: 15px;">
        <div id="modal-medalha-raridade" class="medalha-exposicao-raridade" style="font-size: 1.1rem; padding: 5px 12px; margin-bottom: 10px;">Raridade</div>
        <div id="modal-medalha-valor" style="font-size: 1.3rem; font-weight: bold;">ğŸ’° Valor</div>
      </div>
    </div>
  </div>
</div>

<div id="medalha-ganha-popup" class="modal-overlay">
  <canvas id="medalha-ganha-confetti" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;"></canvas>
  <div class="modal-content" style="max-width: 500px; position: relative; z-index: 2; border: 4px solid gold; box-shadow: 0 0 30px gold;">
    <div class="painel-header" style="border-bottom: none; margin-bottom: 10px;">
      <h2 id="medalha-ganha-titulo" style="color: #e67e22; text-shadow: 0 0 8px #e67e22;">ğŸ‰ Nova Conquista! ğŸ‰</h2>
      </div>
    <div style="text-align: center; margin-bottom: 25px;">
      <img id="medalha-ganha-img" src="" alt="Medalha de Honra" style="width: 150px; height: 150px; object-fit: contain; margin-bottom: 15px; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.4));">
      <div id="medalha-ganha-nome" style="font-size: 1.6rem; font-weight: bold; margin-bottom: 8px;">Nome da Medalha</div>
      <div id="medalha-ganha-raridade" class="medalha-exposicao-raridade" style="font-size: 1.1rem; padding: 5px 15px; margin-bottom: 10px;">Raridade</div>
      <div id="medalha-ganha-valor" style="font-size: 1.2rem; font-weight: bold;">ğŸ’° Valor</div>
      <p id="medalha-ganha-origem" class="modal-description" style="margin-top: 20px; font-size: 1.1rem;"></p>
    </div>
    <button class="card-popup-close-btn" style="background-color: #2ecc71;" onclick="closeModal('medalha-ganha-popup')">IncrÃ­vel!</button>
  </div>
</div>
  
  <script type="module">
  // Importa e executa todo o seu cÃ³digo de lÃ³gica principal
  import "./logica.js";

  // LÃ³gica aprimorada para registrar e atualizar o Service Worker
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(registration => {
          console.log('Service Worker registrado com sucesso:', registration);
          // Verifica se hÃ¡ um novo Service Worker esperando para ser ativado
          registration.addEventListener('updatefound', () => {
            const newWorker = registration.installing;
            newWorker.addEventListener('statechange', () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                // Se um novo SW foi instalado, mostra um popup para o usuÃ¡rio recarregar
                if (confirm('Uma nova versÃ£o estÃ¡ disponÃ­vel! Deseja recarregar a pÃ¡gina agora?')) {
                  window.location.reload();
                }
              }
            });
          });
        })
        .catch(error => {
          console.log('Falha ao registrar Service Worker:', error);
        });
    });

    // ForÃ§a a verificaÃ§Ã£o de uma nova versÃ£o do SW toda vez que a pÃ¡gina for carregada
    navigator.serviceWorker.ready.then(registration => {
      registration.update();
    });
  }
</script>
  
</body>
</html>
